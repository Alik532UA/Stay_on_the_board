---
type: improvement-plan
status: виконано
title: "Рефакторинг та реорганізація документації проекту"
id: PLAN-001
date: "2025-07-22"
author: ""
---

# Тип: План
# Статус: Виконано
# Назва: Рефакторинг-план v4 (альтернативна версія)
# Опис: Альтернативний завершений варіант четвертого плану рефакторингу з усіма етапами, цілями та підсумками виконання.

## Опис

Повний аудит, реорганізація та уніфікація всієї документації проекту для підвищення ефективності розробки, зменшення технічного боргу та впровадження єдиного стандарту для всіх md/txt-файлів.

***

### Аналіз для мене

#### **1. Поточний стан документації**

Поточна структура документації є хаотичною та органічною, що типово для проєктів на ранніх стадіях.

*   **Сильні сторони:**
    *   Існує багато цінної інформації. Файл `docs/ai/task/make-bug-report.txt` — це справжній "мозковий штурм", що містить десятки багів, ідей та завдань. Це золото, яке потрібно структурувати.
    *   Ведеться історія виконаних завдань (`docs/ai/task/done/`).

*   **Слабкі сторони:**
    *   **Відсутність структури:** Немає чіткого розділення між активними завданнями, виконаними, ідеями та постійною документацією проєкту. Все змішано в папці `docs/ai`.
    *   **Неконсистентність:** Файли не мають єдиного формату. Деякі — це просто список кроків, інші — розлогі описи. Назви файлів (`bug-report-01.txt`) неінформативні.
    *   **Монолітний файл завдань:** `make-bug-report.txt` містить у собі все: від критичних багів до дрібних UI-покращень. Працювати з таким файлом неефективно, неможливо пріоритезувати завдання.
    *   **Застаріла інформація:** Деякі файли, як-от `instruction-now.txt`, є тимчасовими інструкціями, які після виконання стають застарілими і створюють шум.

#### **2. Стратегія реорганізації**

Моя стратегія полягає у створенні чіткої, масштабованої та професійної структури документації, яка відображатиме життєвий цикл завдань та знань про проєкт.

1.  **Створимо нову логічну структуру папок:**
    *   `docs/tasks/`: Для всіх активних завдань, розділених за типами (баги, фічі, UX/UI). Це буде наш беклог.
    *   `docs/archive/`: Для всіх виконаних завдань, планів та старих логів. Це замінить поточну папку `done`.
    *   `docs/project/`: Для "вічнозеленої" документації: опис архітектури, правила гри, гайдлайни.
    *   `docs/resources/`: Для допоміжних матеріалів, як-от список SVG.

2.  **Впровадимо єдиний шаблон для завдань:** Кожен файл `.md` або `.txt` у папках `tasks` та `archive` матиме стандартизований заголовок (frontmatter), що дозволить легко фільтрувати та розуміти завдання.

3.  **Декомпозиція "моноліту":** Найважливіший крок — розібрати `make-bug-report.txt` на десятки окремих, атомарних завдань і розкласти їх по відповідних папках у новій структурі.

4.  **Рефакторинг існуючих файлів:** Усі старі баг-репорти будуть перейменовані, переформатовані за новим шаблоном та переміщені в архів.

#### **3. Очікуваний результат**

Після рефакторингу ми отримаємо:
*   **Чистий та структурований беклог** у `docs/tasks/`, готовий до пріоритезації та виконання.
*   **Історичний архів** виконаних робіт у `docs/archive/`.
*   **Централізовану базу знань** про проєкт у `docs/project/`.
*   **Єдиний стандарт** для всієї документації, що спростить роботу в майбутньому.

Це перетворить документацію з хаотичного набору файлів на потужний інструмент управління проєктом.

***

### План для Cursor

```markdown
# План реорганізації та рефакторингу документації

**Мета:** Повністю реструктурувати, очистити та стандартизувати всю документацію проєкту для підвищення ефективності розробки.

### Крок 1: Створення нової структури директорій

Створи наступну структуру папок всередині директорії `docs/`. Існуючу папку `docs/ai` поки не чіпай.

```bash
mkdir -p docs/tasks/bugs
mkdir -p docs/tasks/features
mkdir -p docs/tasks/ux-ui
mkdir -p docs/archive/bug-reports
mkdir -p docs/archive/completed-plans
mkdir -p docs/archive/logs
mkdir -p docs/project
mkdir -p docs/resources
```

### Крок 2: Визначення єдиного шаблону

Для всіх файлів завдань (баги, фічі тощо) будемо використовувати наступний шаблон з Markdown Frontmatter.

```markdown
---
type: bug-report | feature-request | ui-improvement | refactoring | documentation
status: pending | done
title: "Коротка, але змістовна назва завдання"
id: "BUG-XXX | FEA-XXX | UI-XXX"
date: "YYYY-MM-DD"
---

## Опис

Детальний опис проблеми або ідеї.

### Кроки для відтворення (для багів)

1.  Крок 1
2.  Крок 2

### Очікуваний результат

...

### Актуальний результат

...
```

### Крок 3: Переміщення та рефакторинг виконаних баг-репортів

Оброби всі файли з `docs/ai/task/done/`. Для кожного файлу:
1.  Перейменуй його згідно з шаблоном `BUG-XXX-короткий-опис.md`.
2.  Переформатуй вміст згідно з новим шаблоном.
3.  Встанови `status: done`.
4.  Перемісти файл у `docs/archive/bug-reports/`.

**Приклад для `bug-report-01.txt`:**
*   **Нова назва:** `docs/archive/bug-reports/BUG-001-computer-does-not-move.md`
*   **Новий вміст:**
    ```markdown
    ---
    type: bug-report
    status: done
    title: "Комп'ютер не робить хід у відповідь після ходу гравця"
    id: BUG-001
    date: "2025-07-22"
    ---

    ## Опис
    Після того, як гравець робить хід, комп'ютер не виконує свій хід у відповідь, і гра зупиняється.

    ### Кроки для відтворення
    1. Зайти в "Грати з комп'ютером"
    2. Вибрати напрямок
    3. Вибрати відстань "1"
    4. Натиснути "Підтвердити хід"

    ### Очікуваний результат
    Фігура ферзя на дошці візуально пересунулась в нову клітинку, через 300мс комп'ютер робить свій хід у відповідь, і я бачу оновлену позицію ферзя на дошці.

    ### Актуальний результат
    Фігура ферця на дошці візуально пересунулась в нову клітинку, але комп'ютер не робить свій хід у відповідь.
    ```

Повтори цю операцію для всіх файлів від `bug-report-01.txt` до `bug-report-25.txt`.

### Крок 4: Декомпозиція `make-bug-report.txt`

Це найважливіший крок. Прочитай файл `docs/ai/task/make-bug-report.txt` та розбий його на окремі логічні завдання. Для кожного завдання:
1.  Створи новий файл у відповідній папці (`docs/tasks/bugs/`, `docs/tasks/features/` або `docs/tasks/ux-ui/`).
2.  Назви файл за шаблоном `ТИП-XXX-короткий-опис.md`.
3.  Заповни файл за новим шаблоном, встановивши `status: pending`.

**Приклади декомпозиції:**
*   **Завдання:** "Після мого ходу комп'ютер робить декілька ходів"
    *   **Файл:** `docs/tasks/bugs/BUG-026-computer-makes-multiple-moves.md`
    *   **Тип:** `bug-report`
*   **Завдання:** "Додати можливість достроково завершити гру і забрати бали"
    *   **Файл:** `docs/tasks/features/FEA-001-cash-out-button.md`
    *   **Тип:** `feature-request`
*   **Завдання:** "іконки доступних ходів не по центру клітинки"
    *   **Файл:** `docs/tasks/ux-ui/UI-001-center-available-move-icons.md`
    *   **Тип:** `ui-improvement`

Продовжуй, доки не обробиш усі пункти з `make-bug-report.txt`.

### Крок 5: Архівація старих планів та логів

1.  Перемісти `docs/ai/instruction-now.txt` у `docs/archive/completed-plans/refactoring-plan-v4.md`.
2.  Перемісти `docs/ai/task/logging-docs/` у `docs/archive/logs/logging-optimization-analysis/`.
3.  Перемісти `docs/ai/task/examples/problem-log.txt` у `docs/archive/logs/dnd-parent-element-error.log.txt`.

### Крок 6: Реорганізація решти файлів

1.  **Правила гри:** Знайди правила гри у `docs/ai/task/make-bug-report.txt` (пункт про "Правила гри 'Stay on the Board'"). Створи новий файл `docs/project/game-rules.md`, перенеси туди текст, прибери технічну інформацію та посилання на `.md`.
2.  **Ресурси:** Перемісти `docs/svg/svg.txt` у `docs/resources/svg-links.md` та відформатуй його як Markdown-список.
3.  **Промпт для AI:** Перемісти `docs/ai/promt-00.txt` у `docs/project/ai-assistant-guidelines.md` та покращ його структуру.

### Крок 7: Фінальне прибирання

Після того, як всі файли з `docs/ai/` та `docs/svg/` були переміщені та оброблені, видали ці старі папки.

```bash
rm -rf docs/ai
rm -rf docs/svg
```

### Верифікація

Переконайся, що:
1.  Нова структура папок (`tasks`, `archive`, `project`, `resources`) створена.
2.  Папка `docs/tasks` наповнена новими `.md` файлами, створеними з `make-bug-report.txt`.
3.  Папка `docs/archive` містить перейменовані та переформатовані старі баг-репорти та плани.
4.  Старі папки `docs/ai` та `docs/svg` повністю видалені.
```

### Верифікація для тебе

Після того, як Cursor виконає завдання, перевір наступне:

1.  **Структура папок:** Переконайся, що в директорії `docs/` тепер є папки `tasks`, `archive`, `project`, `resources`, а папки `ai` та `svg` зникли.
2.  **Беклог завдань:** Зайди в `docs/tasks/` та її підпапки. Ти повинен побачити багато нових файлів, кожен з яких представляє одне завдання зі старого "монолітного" файлу. Відкрий кілька з них і переконайся, що вони відповідають новому шаблону.
3.  **Архів:** Перевір `docs/archive/bug-reports/`. Там мають бути всі старі баг-репорти, але вже з новими іменами та форматом, і зі статусом `done`.
4.  **Проєктна документація:** Перевір наявність та зміст файлів `docs/project/game-rules.md` та `docs/project/ai-assistant-guidelines.md`.
```
