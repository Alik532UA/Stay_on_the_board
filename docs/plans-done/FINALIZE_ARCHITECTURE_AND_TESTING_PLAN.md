# Тип: План
# Статус: Виконано
# Назва: План фіналізації архітектури та впровадження тестування
# Мета: Закріпити досягнуті архітектурні покращення шляхом додавання тестів, посилення типізації та покращення надійності коду.
# Опис: Покроковий план для впровадження unit-тестування, покращення надійності orchestrator, посилення типізації та документації у ключових модулях Stay on the Board.

---

## Кроки (чекліст)

- [ ] Впровадження Unit-тестування для чистої логіки
    - Встановити `vitest` як dev-залежність
    - Створити файл `gameCore.test.js` у `src/lib/`
    - Написати тести для:
        - [ ] `createEmptyBoard(size)` — перевірка розміру та заповнення нулями
        - [ ] `getRandomCell(size)` — координати в межах дошки
        - [ ] `getAvailableMoves(...)` — сценарії: центр 3x3, кут, заблоковані клітинки
        - [ ] `calculateFinalScore(...)` — різні бонуси

- [ ] Покращення надійності `gameOrchestrator`
    - Додати `try...catch` навколо асинхронних операцій (особливо `agents.ai.getMove`)
    - Використовувати `logService` для логування помилок
    - Показувати повідомлення гравцю через `modalService` у разі помилки

- [ ] Посилення типізації (опціонально, але рекомендовано)
    - Перейменувати `gameCore.js` на `gameCore.ts`
    - Перейменувати `gameState.js` на `gameState.ts`
    - Перейменувати `gameActions.js` на `gameActions.ts`
    - Додати явні типи у ключових місцях

- [ ] Документація
    - Додати JSDoc до всіх експортованих функцій у `gameActions.js`
    - Додати JSDoc до ключових функцій у `gameOrchestrator.js` (`confirmPlayerMove`, `triggerComputerMove`)

---

## Примітка
Після виконання цього плану проєкт матиме не тільки чудову, але й надійну та тестовану архітектуру. 