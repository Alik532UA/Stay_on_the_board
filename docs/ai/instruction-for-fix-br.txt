### **–ó–∞–≥–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è**

–ü—Ä–æ—î–∫—Ç –ø–µ—Ä–µ–±—É–≤–∞—î —É —Ñ–∞–∑—ñ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –≤—ñ–¥ —Å—Ç–∞—Ä–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ (`index-old-architecture.html`) –¥–æ –Ω–æ–≤–æ—ó, —â–æ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ `state-manager.js`, `view-manager.js` —Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–º—É –ø—ñ–¥—Ö–æ–¥—ñ (`*-component.js`). –ë–∞–≥–∞—Ç–æ –∑ –≤–∏—è–≤–ª–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º —î –Ω–∞—Å–ª—ñ–¥–∫–æ–º —Ü—å–æ–≥–æ –ø–µ—Ä–µ—Ö—ñ–¥–Ω–æ–≥–æ –ø–µ—Ä—ñ–æ–¥—É, –∑–æ–∫—Ä–µ–º–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —Ç–∞ –ø–æ–±—ñ—á–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –≤—ñ–¥ –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É. –ú–æ—è —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –ø–æ–ª—è–≥–∞—î —É —Ç–æ–º—É, —â–æ–± –∫–æ–∂–µ–Ω —Ñ—ñ–∫—Å –Ω–µ –ª–∏—à–µ –≤–∏—Ä—ñ—à—É–≤–∞–≤ –ø—Ä–æ–±–ª–µ–º—É, –∞ –π –ø–æ—Å–∏–ª—é–≤–∞–≤ –Ω–æ–≤—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ –∫—Ä–∞—â—É —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—é —Ç–∞ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ—Å—Ç—å.

---

### **Bug Report #12: –ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏—Ö –∫–ª—ñ—Ç–∏–Ω–æ–∫**

**–ê–Ω–∞–ª—ñ–∑ —Ç–∞ –ø–µ—Ä—à–æ–ø—Ä–∏—á–∏–Ω–∞:**
–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª—è–≥–∞—î —É —Ñ—É–Ω–∫—Ü—ñ—ó `renderBoard` –≤ `js/components/game-board-component.js`. –õ–æ–≥—ñ–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É –∫–ª—ñ—Ç–∏–Ω–æ–∫ –Ω–µ —î –≤–∑–∞—î–º–æ–≤–∏–∫–ª—é—á–Ω–æ—é. –°–ø–æ—á–∞—Ç–∫—É –∫–æ–¥ –º–æ–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–¥–∞—Ç–∏ –∫–ª–∞—Å `blocked-cell` —Ç–∞ —Å–∏–º–≤–æ–ª `‚úó`. –û–¥–Ω–∞–∫, —è–∫—â–æ —Ü—è –∂ –∫–ª—ñ—Ç–∏–Ω–∫–∞ —Ç–∞–∫–æ–∂ –ø–æ—Ç—Ä–∞–ø–ª—è—î –ø—ñ–¥ —É–º–æ–≤—É `isAvailable` –∞–±–æ `isHighlighted`, –Ω–∞—Å—Ç—É–ø–Ω–∏–π –±–ª–æ–∫ –∫–æ–¥—É –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É—î `innerHTML` –∫–ª—ñ—Ç–∏–Ω–∫–∏, –≤–∏–¥–∞–ª—è—é—á–∏ —Å–∏–º–≤–æ–ª –±–ª–æ–∫—É–≤–∞–Ω–Ω—è. –ó–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞ –∫–ª—ñ—Ç–∏–Ω–∫–∞ –ø–æ–≤–∏–Ω–Ω–∞ –º–∞—Ç–∏ –Ω–∞–π–≤–∏—â–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç —É –ª–æ–≥—ñ—Ü—ñ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É.

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–∏–π –ø–ª–∞–Ω –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**

1.  **–§–∞–π–ª –¥–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:** `js/components/game-board-component.js`
2.  **–§—É–Ω–∫—Ü—ñ—è:** `renderBoard`
3.  **–î—ñ—è:** –ó–º—ñ–Ω–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü–∏–∫–ª—É `for (let col = 0; col < boardSize; col++)`. –ü–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ `isBlocked` –±—É–ª–∞ –ø–µ—Ä—à–æ—é —ñ –æ—Å—Ç–∞—Ç–æ—á–Ω–æ—é –¥–ª—è –¥–∞–Ω–æ—ó –∫–ª—ñ—Ç–∏–Ω–∫–∏.

    **–ó–∞–º—ñ–Ω–∏—Ç–∏ —Ü–µ–π –±–ª–æ–∫ –∫–æ–¥—É:**
    ```javascript
    // --- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏—Ö –∫–ª—ñ—Ç–∏–Ω–æ–∫ ---
    const isBlocked = blockedCells.some(c => c.row === row && c.col === col);
    if (isBlocked) {
        cell.classList.add('blocked-cell');
        cell.innerHTML = '<span class="blocked-x">‚úó</span>';
        Logger.debug('[GameBoardComponent] renderBoard: blocked cell rendered', { row, col });
    } else {
        const cellValue = board[row][col];
        // --- –§—ñ–≥—É—Ä–∞ ---
        if (cellValue === 1) {
            cell.classList.add('player-piece');
            cell.innerHTML = '<span class="crown">üëë</span>';
        } else if (cellValue === 2) {
            cell.classList.add('player-piece', 'player2');
            cell.innerHTML = '<span class="crown">üëë</span>';
        } else {
            cell.classList.add('empty-cell');
            // --- –î–æ—Å—Ç—É–ø–Ω—ñ —Ö–æ–¥–∏ ---
            const isHighlighted = highlightedMoves.some(move => move.newRow === row && move.newCol === col);
            const isAvailable = availableMoves.some(move => move.newRow === row && move.newCol === col);
            if (isHighlighted) {
                cell.classList.add('highlighted-move');
                cell.innerHTML = '<span class="move-dot move-dot-highlighted"></span>';
            } else if (isAvailable && showingAvailableMoves) {
                cell.classList.add('available-move');
                cell.innerHTML = '<span class="move-dot"></span>';
            } else {
                cell.innerHTML = '';
            }
        }
    }
    gameBoard.appendChild(cell);
    ```

    **–ù–∞ —Ü–µ–π –ø–æ–∫—Ä–∞—â–µ–Ω–∏–π –±–ª–æ–∫:**
    ```javascript
    const isBlocked = blockedCells.some(c => c.row === row && c.col === col);

    if (isBlocked) {
        cell.classList.add('blocked-cell');
        cell.innerHTML = '<span class="blocked-x">‚úó</span>';
        Logger.debug('[GameBoardComponent] renderBoard: blocked cell rendered', { row, col });
    } else {
        const cellValue = board[row][col];
        if (cellValue === 1) {
            cell.classList.add('player-piece');
            cell.innerHTML = '<span class="crown">üëë</span>';
        } else if (cellValue === 2) {
            cell.classList.add('player-piece', 'player2');
            cell.innerHTML = '<span class="crown">üëë</span>';
        } else {
            cell.classList.add('empty-cell');
            const isHighlighted = highlightedMoves.some(move => move.newRow === row && move.newCol === col);
            const isAvailable = availableMoves.some(move => move.newRow === row && move.newCol === col);

            if (isHighlighted) {
                cell.classList.add('highlighted-move');
                cell.innerHTML = '<span class="move-dot move-dot-highlighted"></span>';
            } else if (isAvailable && showingAvailableMoves) {
                cell.classList.add('available-move');
                cell.innerHTML = '<span class="move-dot"></span>';
            } else {
                cell.innerHTML = '';
            }
        }
    }
    gameBoard.appendChild(cell);
    ```

**–û–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è:**
–¶—è –∑–º—ñ–Ω–∞ —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä—É—î –ª–æ–≥—ñ–∫—É, —Ä–æ–±–ª—è—á–∏ —ó—ó –±—ñ–ª—å—à –Ω–∞–¥—ñ–π–Ω–æ—é. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ `isBlocked` —Ç–µ–ø–µ—Ä —î –ø–µ—Ä—à–æ—á–µ—Ä–≥–æ–≤–æ—é. –Ø–∫—â–æ –∫–ª—ñ—Ç–∏–Ω–∫–∞ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞, –≤–æ–Ω–∞ –æ—Ç—Ä–∏–º—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Å—Ç–∏–ª—å —Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç, —ñ –ø–æ–¥–∞–ª—å—à—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ —Ñ—ñ–≥—É—Ä–∏ —á–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ö–æ–¥–∏ –¥–ª—è –Ω–µ—ó –Ω–µ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è. –¶–µ —É—Å—É–≤–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É `innerHTML` —ñ –≥–∞—Ä–∞–Ω—Ç—É—î –∫–æ—Ä–µ–∫—Ç–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è.

**–í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è:**
1.  –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≥—Ä—É.
2.  –£–≤—ñ–º–∫–Ω—É—Ç–∏ "–†–µ–∂–∏–º –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏—Ö –∫–ª—ñ—Ç–∏–Ω–æ–∫".
3.  –ó—Ä–æ–±–∏—Ç–∏ —Ö—ñ–¥.
4.  –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –∫–ª—ñ—Ç–∏–Ω–∫–∞, –∑ —è–∫–æ—ó –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ —Ö—ñ–¥, —Å—Ç–∞–ª–∞ —á–æ—Ä–Ω–æ—é –∑ —á–µ—Ä–≤–æ–Ω–∏–º —Å–∏–º–≤–æ–ª–æ–º `‚úó` —ñ –Ω–µ –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—à–∏—Ö –ø–æ–∑–Ω–∞—á–æ–∫.

---

### **Bug Report #13: –í—ñ–¥—Å—Ç–∞–Ω—å –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –Ω–µ —Å–∫–∏–¥–∞—î—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ä–æ–∑–º—ñ—Ä—É –¥–æ—à–∫–∏**

**–ê–Ω–∞–ª—ñ–∑ —Ç–∞ –ø–µ—Ä—à–æ–ø—Ä–∏—á–∏–Ω–∞:**
–ü—Ä–æ–±–ª–µ–º–∞ –≤–∏–Ω–∏–∫–∞—î —É `js/components/game-board-component.js` –≤ –æ–±—Ä–æ–±–Ω–∏–∫—É –ø–æ–¥—ñ—ó `change` –¥–ª—è —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ `#board-size-select`. –ö–æ–¥ –∑–º—ñ–Ω—é—î `game.boardSize` —É `stateManager`, –∞–ª–µ –Ω–µ –≤—Ä–∞—Ö–æ–≤—É—î, —â–æ –ø–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è `game.selectedDistance` –º–æ–∂–µ —Å—Ç–∞—Ç–∏ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–º –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É –¥–æ—à–∫–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–¥—Å—Ç–∞–Ω—å 4 –Ω–∞ –¥–æ—à—Ü—ñ 3x3). –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –Ω–µ—É–∑–≥–æ–¥–∂–µ–Ω–æ—Å—Ç—ñ —Å—Ç–∞–Ω—É.

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–∏–π –ø–ª–∞–Ω –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**

1.  **–§–∞–π–ª –¥–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:** `js/components/game-controls-component.js`
2.  **–§—É–Ω–∫—Ü—ñ—è:** `subscribeToState`
3.  **–î—ñ—è:** –î–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –¥–ª—è —Å–∫–∏–¥–∞–Ω–Ω—è –≤—ñ–¥—Å—Ç–∞–Ω—ñ –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ä–æ–∑–º—ñ—Ä—É –¥–æ—à–∫–∏. –¶–µ –±—ñ–ª—å—à –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–æ–Ω—Ç—Ä–æ–ª—ñ–≤ –ø–æ–≤–∏–Ω–µ–Ω —Å–∞–º —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –∑–º—ñ–Ω–∏, —â–æ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –π–æ–≥–æ —Å—Ç–∞–Ω.

    **–î–æ–¥–∞—Ç–∏ —Ü–µ–π –±–ª–æ–∫ –∫–æ–¥—É –≤—Å–µ—Ä–µ–¥–∏–Ω—É `subscribeToState`:**
    ```javascript
    // –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∑–º—ñ–Ω–∏ —Ä–æ–∑–º—ñ—Ä—É –¥–æ—à–∫–∏
    this.subscribe('game.boardSize', (newSize) => {
        Logger.debug('[GameControlsComponent] Board size changed to:', newSize);
        this.generateDistanceButtons(newSize); // –û–Ω–æ–≤–ª—é—î–º–æ –ª–∏—à–µ –∫–Ω–æ–ø–∫–∏ –¥–∏—Å—Ç–∞–Ω—Ü—ñ—ó
        this.bindEvents(); // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–∞ –Ω–æ–≤—ñ –∫–Ω–æ–ø–∫–∏
        
        // –°–∫–∏–¥–∞—î–º–æ –≤—ñ–¥—Å—Ç–∞–Ω—å –¥–æ 1 –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ä–æ–∑–º—ñ—Ä—É –¥–æ—à–∫–∏, —è–∫—â–æ –ø–æ—Ç–æ—á–Ω–∞ –≤—ñ–¥—Å—Ç–∞–Ω—å –Ω–µ–≤–∞–ª—ñ–¥–Ω–∞
        const currentDistance = stateManager.getState('game.selectedDistance');
        if (currentDistance !== null && currentDistance >= newSize) {
            stateManager.setState('game.selectedDistance', 1);
            Logger.debug('[GameControlsComponent] Reset distance to 1 due to board size change:', { 
                oldDistance: currentDistance, 
                newBoardSize: newSize, 
                maxDistance: newSize - 1 
            });
        }
    });

    // –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∑–º—ñ–Ω–∏ selectedDistance –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
    this.subscribe('game.selectedDistance', (distance) => {
        Logger.debug('[GameControlsComponent] game.selectedDistance changed:', { 
            distance, 
            boardSize: stateManager.getState('game.boardSize'),
            maxDistance: (stateManager.getState('game.boardSize') || 3) - 1
        });
    });
    ```

**–û–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è:**
–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è —Ü—ñ—î—ó –ª–æ–≥—ñ–∫–∏ –≤ `GameControlsComponent` –ø–æ–∫—Ä–∞—â—É—î —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—é. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –≤–∏–±—ñ—Ä –≤—ñ–¥—Å—Ç–∞–Ω—ñ, —Ç–µ–ø–µ—Ä —Å–∞–º —Ä–µ–∞–≥—É—î –Ω–∞ –∑–º—ñ–Ω—É —Ä–æ–∑–º—ñ—Ä—É –¥–æ—à–∫–∏ —ñ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Å–≤—ñ–π —Å—Ç–∞–Ω —É –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º—É –≤–∏–≥–ª—è–¥—ñ. –¶–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è —Ç–∞ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –±—ñ–ª—å—à –Ω–∞–¥—ñ–π–Ω–æ—é.

**–í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è:**
1.  –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≥—Ä—É –Ω–∞ –¥–æ—à—Ü—ñ 5x5.
2.  –í–∏–±—Ä–∞—Ç–∏ –Ω–∞–ø—Ä—è–º–æ–∫ —ñ –≤—ñ–¥—Å—Ç–∞–Ω—å 4.
3.  –ó–º—ñ–Ω–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –¥–æ—à–∫–∏ –Ω–∞ 3x3.
4.  –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –≤–∏–±—Ä–∞–Ω–∞ –≤—ñ–¥—Å—Ç–∞–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∫–∏–Ω—É–ª–∞—Å—è –Ω–∞ 1, –∞ –Ω–µ –∑–∞–ª–∏—à–∏–ª–∞—Å—è 4.

---

### **Bug Report #15: –î—É–±–ª—é–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π —É –≥–æ–ª–æ–≤–Ω–æ–º—É –º–µ–Ω—é**

**–ê–Ω–∞–ª—ñ–∑ —Ç–∞ –ø–µ—Ä—à–æ–ø—Ä–∏—á–∏–Ω–∞:**
–ü—Ä–æ–±–ª–µ–º–∞ –≤ `js/components/main-menu-component.js`. –ú–µ—Ç–æ–¥ `render` –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –Ω–∞ –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é, —ñ –≤—ñ–Ω, —É —Å–≤–æ—é —á–µ—Ä–≥—É, –≤–∏–∫–ª–∏–∫–∞—î `bindEvents`. –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π –Ω–µ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ —ó—Ö –Ω–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è —Ç–∞ –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–æ–≥–æ —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞–Ω–Ω—è. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–∞–ø–æ—Ä—Ü—è `eventsBound` —î –ø–æ—à–∏—Ä–µ–Ω–∏–º, –∞–ª–µ –∫—Ä–∏—Ö–∫–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º.

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–∏–π –ø–ª–∞–Ω –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**

1.  **–§–∞–π–ª –¥–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:** `js/components/main-menu-component.js`
2.  **–§—É–Ω–∫—Ü—ñ—è:** `bindEvents`
3.  **–î—ñ—è:** –ü–µ—Ä–µ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º –Ω–æ–≤–∏—Ö –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ —Å—Ç–∞—Ä—ñ. –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —ñ –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –¥–ª—è —Ü—å–æ–≥–æ ‚Äî –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–º—ñ–Ω–∞ –≤—É–∑–ª—ñ–≤ –∫–Ω–æ–ø–æ–∫.

    **–ó–∞–º—ñ–Ω–∏—Ç–∏ —Ü–µ–π –±–ª–æ–∫ –∫–æ–¥—É:**
    ```javascript
    bindEvents() {
        // ... (—Å—Ç–∞—Ä–∏–π –∫–æ–¥ –∑ –ø—Ä–∞–ø–æ—Ä—Ü–µ–º eventsBound)
    }
    ```

    **–ù–∞ —Ü–µ–π –ø–æ–∫—Ä–∞—â–µ–Ω–∏–π –±–ª–æ–∫:**
    ```javascript
    bindEvents() {
        // --- –î–û–î–ê–ù–û: –æ—á–∏—â–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ ---
        this.element.querySelectorAll('button').forEach(btn => {
            btn.replaceWith(btn.cloneNode(true));
        });

        this.element.querySelector('#btn-vs-computer')?.addEventListener('click', () => {
            stateManager.navigateTo('gameBoard', { gameMode: 'vsComputer' });
        });
        this.element.querySelector('#btn-local-game')?.addEventListener('click', () => {
            stateManager.navigateTo('gameBoard', { gameMode: 'local' });
        });
        this.element.querySelector('#btn-online')?.addEventListener('click', () => {
            window.location.href = 'peer-mvp.html';
        });
        // ... (—Ä–µ—à—Ç–∞ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –±–µ–∑ –∑–º—ñ–Ω) ...
    }
    ```
4.  **–î—ñ—è 2:** –í–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å `this.eventsBound` –∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —Ç–∞ –±—É–¥—å-—è–∫–∏—Ö —ñ–Ω—à–∏—Ö –º—ñ—Å—Ü—å —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ.

**–û–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è:**
–ú–µ—Ç–æ–¥ `node.replaceWith(node.cloneNode(true))` —î —ñ–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏–º —Ç–∞ –Ω–∞–¥—ñ–π–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π –∑ –µ–ª–µ–º–µ–Ω—Ç–∞, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–ª–æ–Ω–æ–≤–∞–Ω–∏–π –≤—É–∑–æ–ª –Ω–µ —É—Å–ø–∞–¥–∫–æ–≤—É—î —ó—Ö. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É `bindEvents` –º–∏ –ø—Ä–∞—Ü—é—î–º–æ –∑ "—á–∏—Å—Ç–∏–º–∏" –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏, —â–æ –ø–æ–≤–Ω—ñ—Å—Ç—é —É—Å—É–≤–∞—î –ø—Ä–æ–±–ª–µ–º—É –¥—É–±–ª—é–≤–∞–Ω–Ω—è. –¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –ø—Ä–æ—Å—Ç—ñ—à–∏–π —ñ –Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π –∑–∞ —Ä—É—á–Ω–µ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –æ–±—Ä–æ–±–Ω–∏–∫–∞.

**–í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è:**
1.  –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≥—Ä—É, –ø–µ—Ä–µ–π—Ç–∏ –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.
2.  –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –≤ –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é.
3.  –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–∞–≤–∏–ª–∞.
4.  –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –≤ –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é.
5.  –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ –∫–Ω–æ–ø–∫—É "–ì—Ä–∞—Ç–∏ –∑ –∫–æ–º–ø'—é—Ç–µ—Ä–æ–º". –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –ø–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ —ñ–≥—Ä–æ–≤–∏–π –µ–∫—Ä–∞–Ω –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑.

---

### **Bug Report #17: –î—É–±–ª—é–≤–∞–Ω–Ω—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É GameControlsComponent**

**–ê–Ω–∞–ª—ñ–∑ —Ç–∞ –ø–µ—Ä—à–æ–ø—Ä–∏—á–∏–Ω–∞:**
–ü—Ä–æ–±–ª–µ–º–∞ –≤ `js/components/game-controls-component.js`. –ú–µ—Ç–æ–¥ `render` –Ω–µ –º–∞—î –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É. –û—Å–∫—ñ–ª—å–∫–∏ `GameBoardComponent` –º–æ–∂–µ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç–∏—Å—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Ä–æ–∑–º—ñ—Ä—É –¥–æ—à–∫–∏) —ñ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ `GameControlsComponent` –∑–Ω–æ–≤—É, —Ü–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∫–µ—Ä—É–≤–∞–Ω–Ω—è.

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–∏–π –ø–ª–∞–Ω –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**

1.  **–§–∞–π–ª –¥–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:** `js/components/game-controls-component.js`
2.  **–§—É–Ω–∫—Ü—ñ—è:** `render`
3.  **–î—ñ—è:** –î–æ–¥–∞—Ç–∏ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å `this.isRendered` –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É.

    **–î–æ–¥–∞—Ç–∏ –Ω–∞ –ø–æ—á–∞—Ç–∫—É –º–µ—Ç–æ–¥—É `render`:**
    ```javascript
    render() {
        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤–∂–µ —Ä–µ–Ω–¥–µ—Ä–∏–ª–∏—Å—è
        if (this.isRendered) {
            Logger.debug('[GameControlsComponent] Already rendered, skipping');
            return;
        }
        
        Logger.info('[GameControlsComponent] render: –ø–æ—á–∞—Ç–æ–∫');
        // ... (—Ä–µ—à—Ç–∞ –∫–æ–¥—É –º–µ—Ç–æ–¥—É)
    ```
4.  **–î—ñ—è 2:** –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø—Ä–∞–ø–æ—Ä–µ—Ü—å –≤ `true` –≤ –∫—ñ–Ω—Ü—ñ –º–µ—Ç–æ–¥—É `render`.

    **–î–æ–¥–∞—Ç–∏ –≤ –∫—ñ–Ω—Ü—ñ –º–µ—Ç–æ–¥—É `render`:**
    ```javascript
        // ... (–∫–æ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É)
        this.isRendered = true;
        Logger.info('[GameControlsComponent] render: –∑–∞–≤–µ—Ä—à–µ–Ω–æ');
    }
    ```
5.  **–î—ñ—è 3:** –î–æ–¥–∞—Ç–∏ —Å–∫–∏–¥–∞–Ω–Ω—è –ø—Ä–∞–ø–æ—Ä—Ü—è –≤ –º–µ—Ç–æ–¥ `destroy`.

    **–î–æ–¥–∞—Ç–∏ –≤ –º–µ—Ç–æ–¥ `destroy`:**
    ```javascript
    destroy() {
        // ... (—ñ–Ω—à–∏–π –∫–æ–¥ –æ—á–∏—â–µ–Ω–Ω—è)
        this.isRendered = false;
        super.destroy();
    }
    ```

**–û–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è:**
–î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–∞–ø–æ—Ä—Ü—è `isRendered` —î –ø—Ä–æ—Å—Ç–æ—é —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—é —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ –¥–ª—è –º–µ—Ç–æ–¥—É `render`. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –≤–º—ñ—Å—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ –π–æ–≥–æ –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ `render` –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–æ –ø–æ–º–∏–ª–∫–æ–≤–æ –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤. –¶–µ —Ä–æ–±–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±—ñ–ª—å—à —Å—Ç—ñ–π–∫–∏–º –¥–æ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤ –∑ –±–æ–∫—É –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.

**–í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è:**
1.  –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≥—Ä—É, –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —ñ–≥—Ä–æ–≤–∏–π –µ–∫—Ä–∞–Ω.
2.  –ó–º—ñ–Ω–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –¥–æ—à–∫–∏ –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤.
3.  –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –ø–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è (–∫–Ω–æ–ø–∫–∏ –Ω–∞–ø—Ä—è–º–∫—É, –≤—ñ–¥—Å—Ç–∞–Ω—ñ) –Ω–µ –¥—É–±–ª—é—î—Ç—å—Å—è —ñ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º—É –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ.
4.  –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ –∫–æ–Ω—Å–æ–ª—ñ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è `[GameControlsComponent] Already rendered, skipping`.
