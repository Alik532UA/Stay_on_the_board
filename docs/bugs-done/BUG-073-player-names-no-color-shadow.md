---
status: done
---

# Тип: BUG
# Статус: Виконано
# Назва: Імена гравців без тіні кольору в score-panel та game-info-content
# Мета: Забезпечити, щоб імена гравців відображалися з тінню кольору, який вони вибрали в /local-setup
# Опис: В локальній грі імена гравців в score-panel та game-info-content відображаються без тіні кольору, хоча мають показуватися з тінню кольору, який гравці вибрали при налаштуванні.

---

## Кроки для відтворення
1. Запустити локальну гру з кількома гравцями
2. Подивитися на score-panel та game-info-content

## Актуальний результат
- Імена гравців без тіні кольору

## Очікуваний результат
- Імена гравців з тінню кольору який вони вибрали в /local-setup

---

## Аналіз проблеми

### Причина
В компонентах `ScorePanelWidget` та `GameInfoWidget` імена гравців відображаються як звичайний текст без додаткових стилів. Не використовується інформація про колір гравця з `localGameStore`.

### Рішення
Додати функції для отримання кольору гравця та створення CSS тіні:

1. **Додати функцію `getPlayerColor`** для отримання кольору гравця з `localGameStore`
2. **Додати функцію `getPlayerNameStyle`** для створення CSS стилю з тінню кольору
3. **Модифікувати відображення** імен гравців для використання тіні кольору
4. **Оновити повідомлення** в `GameInfoWidget` для підтримки HTML з тінню

---

## Зміни в коді

### src/lib/components/widgets/ScorePanelWidget.svelte
- Додано функцію `getPlayerColor()` для отримання кольору гравця
- Додано функцію `getPlayerNameStyle()` для створення CSS стилю з тінню
- Оновлено відображення імен гравців: `<span style={getPlayerNameStyle(player.name)}>{player.name}:</span>`

### src/lib/components/widgets/GameInfoWidget.svelte
- Додано імпорт `localGameStore`
- Додано функцію `getPlayerColor()` для отримання кольору гравця
- Додано функцію `getPlayerNameStyle()` для створення CSS стилю з тінню
- Модифіковано повідомлення для створення HTML з тінню кольору гравця
- Змінено відображення повідомлення: `{@html displayMessage}` для підтримки HTML

---

## Тестування

### Тест 1: Локальна гра з різними кольорами
1. Запустити локальну гру з 2+ гравцями з різними кольорами
2. Подивитися на score-panel
3. **Очікуваний результат:** Імена гравців мають тінь кольору, який вони вибрали
4. Зробити хід гравцем
5. Подивитися на game-info-content
6. **Очікуваний результат:** Ім'я гравця в повідомленні має тінь його кольору

### Тест 2: Гра проти комп'ютера
1. Запустити гру проти комп'ютера
2. **Очікуваний результат:** Імена гравців відображаються без тіні (як і раніше)

---

## Додаткові завдання
- [x] Перевірити, що зміни не впливають на гру проти комп'ютера
- [x] Перевірити, що тінь кольору працює коректно в локальних іграх
- [x] Додати відповідну документацію
- [x] Забезпечити, що CSS тінь створюється динамічно на основі кольору гравця 