# Гарячі клавіші
## Керування в грі

### Основне керування рухом
- **Вгору-вліво ↖**: [NumPad 7], [Q]
- **Вгору ↑**: [NumPad 8], [W]
- **Вгору-вправо ↗**: [NumPad 9], [E]
- **Вліво ←**: [NumPad 4], [A]
- **Вправо →**: [NumPad 6], [D]
- **Вниз-вліво ↙**: [NumPad 1], [Z]
- **Вниз ↓**: [NumPad 2], [X], [S]
- **Вниз-вправо ↘**: [NumPad 3], [C]

### Дії в грі
- **Підтвердити хід**: [NumPad 5], [NumPad Enter], [Enter], [Space], [S]
- **Заявити "немає ходів"**: [NumPad .], [Backspace]

### Керування налаштуваннями гри
- **Режим блокування**: [NumPad *], [B]
- **Видимість дошки (перемикання між [сховати] та [з ходами])**: [NumPad /], [H]
- **Збільшити дошку**: [NumPad +], [=]
- **Зменшити дошку**: [NumPad -], [-]
- **Автоматично приховувати дошку**: [NumPad 0]
- **Озвучування ходів**: [V]

### Вибір відстані
- **[1-9]**: Вибрати конкретну відстань

## Поведінка клавіш

**Поведінка:**
- **Перше натискання**: Вибирає напрямок і автоматично вибирає відстань 1
- **Повторне натискання того ж напрямку**: Збільшує відстань на 1 (до boardSize - 1)
- **При максимальній відстані**: Скидає відстань до 1 при наступному натисканні
- **Інший напрямок**: Вибирає новий напрямок і скидає відстань до 1, тільки якщо вона не була обрана вручну

**Обмеження відстані:**
- **Дошка 3x3**: Максимальна відстань = 2 (цикли: 1 → 2 → 1)
- **Дошка 4x4**: Максимальна відстань = 3 (цикли: 1 → 2 → 3 → 1)
- **Дошка 5x5**: Максимальна відстань = 4 (цикли: 1 → 2 → 3 → 4 → 1)

**Поведінка при ручному виборі відстані:**
- **Збереження**: Відстані, обрані вручну, зберігаються при зміні напрямку
- **Автоматичне скидання**: Тільки автоматично обрані відстані скидаються при зміні напрямку

### Центральний інфо-елемент
Центральний інфо-елемент надає візуальний зворотний зв'язок про поточний стан гри:

#### Візуальні стани
1. **Порожній стан**: Немає вмісту, немає рамки, прозорий фон - коли не обрано напрямок або відстань
2. **Тільки напрямок**: Показує тільки стрілку напрямку (наприклад, "→", "↑") без рамки
3. **Тільки відстань**: Показує тільки число відстані (наприклад, "2", "3") без рамки
4. **Хід, що можна підтвердити**: Показує напрямок + відстань (наприклад, "→2") з рамкою і можливістю кліку
5. **Відображення ходу VirtualPlayer**: Показує останній хід VirtualPlayer (наприклад, "→2") з помаранчевим фоном, без рамки

#### Взаємодія
- **Клікабельний**: Тільки коли обрано і напрямок, і відстань (стан, що можна підтвердити)
- **Візуальний зворотний зв'язок**: Рамка та анімація вказують, коли хід можна підтвердити
- **Хід VirtualPlayer**: Відображає останній хід VirtualPlayer, доки гравець не почне вибирати свій хід

### Дії в грі
- **[I]**: Показати допомогу/інформацію

## Навігація

### Навігація по меню
- **[Escape]**: Повернутися до головного меню
- **[Tab]**: Переміщатися між пунктами меню
- **[Enter]**: Вибрати пункт меню

### Налаштування
- **[T]**: Переключити тему (світла/темна)
- **[L]**: Переключити мову


## Поради

1. **Швидкі ходи**: Використовуйте одну й ту ж клавішу напрямку кілька разів, щоб швидко перебирати відстані
2. **Візуальний зворотний зв'язок**: Слідкуйте за центральною кнопкою, щоб бачити ваш поточний вибір
3. **Ефективність клавіатури**: Використовуйте NumPad для швидшого вибору напрямку
4. **Підтвердження**: Завжди підтверджуйте свій хід Пробілом/Enter після вибору і напрямку, і відстані
5. **Циклічність відстані**: На дошках 3x3, натискання того ж напрямку 3 рази перемикає: 1 → 2 → 1
6. **Ручна відстань**: Якщо ви вручну вибрали відстань, вона буде збережена при зміні напрямку
7. **Автоматична відстань**: Автоматично обрані відстані скидаються до 1 при зміні напрямку

---

## ВАЖЛИВО ДЛЯ РОЗРОБНИКІВ: логіка вибору дії для KeyS/І

- При першому натисканні (KeyS), якщо ця клавіша призначена до кількох дій, показується модальне вікно з вибором дії.
- Після вибору KeyS видаляється з усіх інших дій і призначається лише до вибраної дії.
- Це критично для зрозумілого UX і уникнення конфліктів гарячих клавіш.
- Не змінюйте цю логіку під час рефакторингу без повного тестування!

Деталі див. у handleHotkey (GameBoard.svelte).