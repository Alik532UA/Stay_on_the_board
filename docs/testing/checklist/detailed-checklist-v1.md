# Детальний Чек-ліст для Стабілізації та Покращення v1

**Мета:** Створити вичерпний список завдань для стабілізації, виправлення помилок, покращення UI/UX та рефакторингу гри "Stay on the Board". Цей документ розширює базовий [План Стабілізації v1](stabilization-plan-v1.md).

---

## Частина 1: Критичний шлях користувача (Smoke Test)

Ці пункти є базовими і повинні перевірятися після кожної значної зміни.

-   `[+]` **Запуск гри:**
    -   `[+]` Додаток запускається без помилок у консолі.
    -   `[+]` Головне меню відображається коректно.
    -   `[+]` Натискання на "Грати проти VirtualPlayer" відкриває модальне вікно вибору режиму.
    -   `[+]` Вибір режиму "Новачок" та натискання "ОК" перенаправляє на сторінку гри (`/game/vs-computer`).
-   `[+]` **Ігровий процес:**
    -   `[+]` Ігрова дошка та панель управління відображаються коректно.
        -   `[+]` Стартова позиція фігури є випадковою, якщо "Test Mode" вимкнено.
        -   `[+]` **Поява ферзя та ходів:** При заході на сторінку гри спочатку зі спеціальною анімацією з'являється ферзь, і тільки після цього плавно з'являються "доступні ходи".
    -   `[+]` Гравець може вибрати напрямок.
    -   `[+]` Гравець може вибрати відстань.
    -   `[+]` Кнопка "Підтвердити хід" стає активною після вибору напрямку та відстані.
    -   `[+]` Гравець може зробити перший хід.
        -   `[+]` Після ходу гравця оновлюється рахунок.
        -   `[+]` **Синхронізація анімації та інформації:** Інформація в `center-info` про хід VirtualPlayer має з'являтися одразу після ходу гравця, а анімація на дошці має запускатися із заданою паузою.
        -   `[+]` **Послідовність анімацій:** Після ходу гравця спочатку відтворюється анімація його ходу, потім пауза, і тільки потім анімація ходу VirtualPlayer.
    -   `[+]` VirtualPlayer робить хід у відповідь.
        -   `[+]` **Порядок відображення:** Нові "доступні ходи" повинні з'являтися *після* анімації ходу VirtualPlayer, а не до неї.
        -   `[+]` `center-info` відображає інформацію про хід VirtualPlayer.
        -   `[-]` **Черговість ходів:** VirtualPlayer має робити лише один хід у відповідь.
    -   `[+]` Гравець може зробити другий хід.
-   `[+]` **Завершення гри:**
    -   `[+]` **Програш гравця:**
        -   `[+]` Гравець робить хід, що виходить за межі дошки, і з'являється відповідне модальне вікно.
        -   `[+]` Гравець робить хід на заблоковану клітинку, і з'являється відповідне модальне вікно.
        -   `[+]` Рахунок у модальному вікні програшу відображається коректно.
    -   `[+]` **Завершення за кнопкою "Забрати бали":**
        -   `[+]` Гравець натискає кнопку "Забрати бали".
        -   `[+]` З'являється модальне вікно про завершення гри з відповідним повідомленням та бонусом.
    -   `[+]` **Заявка "Ходів немає":**
        -   `[+]` **Правильна заявка:** Гравець натискає "Ходів немає", коли їх дійсно немає, і з'являється модальне вікно з пропозицією продовжити або завершити гру.
        -   `[+]` **Помилкова заявка:** Гравець натискає "Ходів немає", коли ходи є, і з'являється модальне вікно про завершення гри.
    -   `[+]` **Перемога гравця:**
        -   `[+]` **Суперник у пасці:** VirtualPlayer не має доступних ходів, і з'являється модальне вікно про перемогу.

---

## Частина 2: Виправлення Помилок (Bug Fixing)

### Анімації та Відображення на Дошці

-   `[+]` **Блимання кіл:** Нема зайвого блимання на візуальній дошці відображення доступних ходів VirtualPlayer між ходами.
-   `[+]` **Оновлення доступних ходів:** Після зміни розміру дошки "доступні ходи" повинні коректно оновлюватися.
-   `[+]` **Центрування іконок:** Іконки доступних ходів мають бути ідеально по центру клітинок.
-   `[+]` **Анімація приховування дошки:** Приховування дошки за чекбоксом має бути плавним (зменшення розміру та прозорість), щоб уникнути різких стрибків контенту.
-   `[+]` **Анімація меню налаштувань:** Розгортання/згортання меню "Налаштування" має бути анімованим.

### Логіка Гри

-   `[+]` **Скидання рахунку:** При зміні розміру дошки з ненульовим рахунком має з'являтися попередження про скидання прогресу. Це має працювати і при використанні гарячих клавіш `+` / `-`.
-   `[+]` **Зміна розміру дошки:** При зміні розміру дошки фігура має займати нове випадкове положення.
    -   `[+]` Це має працювати і при використанні гарячих клавіш `+` / `-`.
-   `[+]` **Зміна розміру дошки:** Кнопки `+` / `-` та `=` / `-` на клавіатурі мають коректно змінювати розмір дошки.
-   `[-]` **Повернення в гру:** Якщо гра не завершена, при поверненні з головного меню ігровий процес має продовжуватися з місця зупинки. Якщо гра була завершена, має починатися нова гра.


### Інтерфейс та Переклади

-   `[ ]` **Вибір мови:** Прапори вибору мови не повинні бути заблоковані під розмитим фоном. При зміні мови прапор має оновлюватися.
-   `[+]` **Ініціалізація перекладів:** Тексти в інтерфейсі коректно відображаються при прямому завантаженні ігрової сторінки (без переходу з головного меню).
-   `[ ]` **Помилки перекладу:** Перекласти всі неперекладені елементи інтерфейсу (сторінки "Керування", "Правила", кнопки, повідомлення тощо).
-   `[ ]` **Іконки на iPhone:** Іконки тем та донату на головному меню мають коректно відображатися на iPhone.
-   `[ ]` **Адаптивність модальних вікон:** Модальні вікна ("Гру завершено!" та інші) мають коректно відображатися на мобільних пристроях (Samsung Galaxy M31s).
-   `[ ]` **Зайвий скрол:** Немає подвійного скролу.

---

## Частина 3: Покращення UI/UX

### Загальні Покращення

-   `[ ]` **Гредієнти та кольори:** Покращити градієнти та поєднання кольорів для всіх тем, зробити їх більш сучасними та стильними.
-   `[ ]` **Теми:**
    -   Провести повний рефакторинг кольорів для всіх тем (Фіолетовий, Зелений, Синій, Сірий, Помаранчевий).
    -   Додати нову "Дерев'яну" тему.
    -   Кольори пунктів у меню вибору тем мають відповідати самим темам.
-   `[ ]` **Заблоковані клітинки:** Замість сірого стилю додати візуальний ефект "розбитої" клітинки.
-   `[ ]` **Псевдо-вимкнені кнопки:** Кнопки "Локальна гра" та "Гра у мережі" в головному меню зробити псевдо-вимкненими. При натисканні має з'являтися інформаційне вікно з пропозицією донату.
-   `[ ]` **Керування:** Заборонити переміщення фігури кліком по дошці. При кліці на дошку виводити модальне вікно з поясненням, як керувати грою.
-   `[ ]` **Розмір кнопок:** Збільшити розмір кнопок напрямку (`dir-btn`) та відстані (`dist-btn`), зробити їх однаковими за розміром.
-   `[ ]` **Розмір дошки:** Реалізувати динамічний розмір дошки: 2x2 - 50% екрану, 9x9 - до 95% екрану, з плавною інтерполяцією для проміжних значень.
-   `[ ]` **Розташування кнопок:** Змінити послідовність кнопок у грі: "Вийти в головне меню", "Вибір розміру дошки", "Інформація", "Очистити кеш (dev)".
-   `[ ]` **Дропдаун розміру дошки:** Розмістити дропдаун вибору розміру дошки по центру екрану із затемненням фону.
-   `[ ]` **Відступи між чекбоксами:** Зробити однакові відступи між усіма чекбоксами в налаштуваннях.
-   `[ ]` **Підказки для гарячих клавіш:** При наведенні на стрілки керування показувати підказку з відповідною гарячою клавішею.
-   `[ ]` **Кнопка дострокового завершення:** Додати кнопку для дострокового завершення гри з отриманням зароблених балів.

### Нова Логіка та Функціонал

-   `[ ]` **Нова логіка підрахунку балів:**
    -   `[ ]` Додати чекбокс "Приховати ферзя".
    -   `[ ]` +1 бал: дошка відкрита.
    -   `[ ]` +2 бали: дошка відкрита, ферзь прихований.
    -   `[ ]` +3 бали: дошка закрита.
-   `[ ]` **Режим заблокованих клітинок (розширення):**
    -   `[ ]` Додати можливість налаштовувати, після якої кількості наступів (0, 1, 2, 3) клітинка блокується.
    -   `[ ]` Реалізувати якісний UX/UI для відображення поступового "зникнення" клітинки.
-   `[ ]` **Адаптивний лейаут для горизонтальних екранів:**
    -   `[ ]` Створити адаптивний інтерфейс з 1, 2 або 3 колонками.
    -   `[ ]` Реалізувати можливість перетягування віджетів (дошка, панель керування, налаштування, рахунок) між колонками та всередині них.

---

## Частина 4: Рефакторинг та Оновлення Контенту

-   `[ ]` **Підготовка до масштабування:** Провести рефакторинг коду для підготовки до додавання режимів локальної та онлайн-гри.
-   `[ ]` **Оновлення `manifest.json`:** Виправити `short_name` та `description` на більш відповідні.
-   `[ ]` **Оновлення правил гри:**
    -   `[ ]` Прибрати технічну інформацію та посилання на `.md` файли.
    -   `[ ]` Додати інформацію, що фігура одна на двох.
    -   `[ ]` Перейменувати "Гра з VirtualPlayer" на "Гра проти VirtualPlayer".
    -   `[ ]` Перейменувати "Система очок" на "Система балів".
    -   `[ ]` Оновити правила відповідно до нової логіки підрахунку балів.
-   `[ ]` **Повідомлення про оновлення:** Покращити текст повідомлення про нову версію, пояснюючи необхідність оновлення кешу.
-   `[ ]` **Сторінка "Наші Меценати":**
    -   `[ ]` Зробити нікнейм мецената "Khaaaa" клікабельним (посилання на Steam).
    -   `[ ]` Додати текст з проханням вказувати нікнейм при донаті та кнопку "Підтримати проєкт".
-   `[ ]` **Пояснення "Як отримати задоволення від гри":** Створити та оформити текст, що пояснює, як грати в "режимі уяви" (вимкнена дошка, озвучування ходів, гарячі клавіші). Інтегрувати цю інформацію в інтерфейс гри.
-   `[ ]` **Розбиття файлів локалізації:** Розглянути можливість розбиття великих файлів мови на менші модулі для зручності редагування.

---

## Частина 5: Озвучування ходів (Speech Synthesis)

-   `[ ]` **Повне озвучування при резервній мові:**
    -   `[ ]` Система генерує текст для озвучення на основі мови, яка фактично використовується для синтезу мовлення (fallback language), а не на основі мови інтерфейсу.
    -   `[ ]` Якщо використовується резервна англійська мова, озвучення ходу є повним (напрямок + відстань) і відбувається англійською (наприклад, "up one").
-   `[ ]` **Озвучування діагонального ходу:**
    -   `[ ]` При діагональному ході з використанням резервної (англійської) мови, озвучення має включати слово "diagonally" (наприклад, "diagonally up right one").
    -   `[ ]` При використанні голосу, що відповідає мові інтерфейсу, озвучення діагонального ходу також має бути повним (наприклад, "по діагоналі вгору вправо один").
-   `[ ]` **Коректність при нативному голосі:** При наявності та виборі голосу, що відповідає мові інтерфейсу, озвучення залишається повним та