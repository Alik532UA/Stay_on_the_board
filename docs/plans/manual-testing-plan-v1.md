# План мануального тестування "Stay on the Board"

**Мета:** Перевірити та верифікувати найбільш проблемні та критичні аспекти функціональності гри, спираючись на аналіз попередніх звітів про помилки та нотаток розробника.

**Ключові області для тестування:**
*   **Анімація та синхронізація стану:** Перевірка коректності та послідовності анімацій відносно логічних змін стану гри.
*   **Керування станом:** Тестування поведінки гри при перезапуску, зміні розміру дошки та поверненні до незавершеної сесії.
*   **Режим локальної гри:** Перевірка унікальної логіки для гри кількох гравців, включаючи черговість ходів, нарахування балів та оновлення UI.
*   **UI/UX та Адаптивність:** Перевірка коректного відображення елементів на різних розмірах екранів та взаємодії з елементами керування.
*   **Основна ігрова логіка:** Тестування правил гри, нарахування балів, режиму заблокованих клітинок та роботи гарячих клавіш.

---

## Тест-кейси

### Секція 1: Керування станом та життєвий цикл гри

| ID | Назва | Кроки для відтворення | Очікуваний результат |
| :--- | :--- | :--- | :--- |
| TC-01 | **Коректний старт гри** | 1. Запустити гру проти комп'ютера. | На дошці у випадковій клітинці з'являється ферзь, а після цього плавно з'являються доступні ходи. Відсутні будь-які зайві анімації чи "фантомні" ходи. |
| TC-02 | **Перезапуск гри ("Грати ще раз")** | 1. Завершити гру. <br> 2. У модальному вікні "Гру завершено!" натиснути "Грати ще раз". | Дошка повністю очищується від фігури та доступних ходів з минулої гри. Після цього з'являється ферзь у новій позиції, а потім нові доступні ходи. Стан гри (рахунок, заблоковані клітинки) повністю скинуто. |
| TC-03 | **Зміна розміру дошки** | 1. Почати гру та заробити > 0 балів. <br> 2. Змінити розмір дошки. <br> 3. Підтвердити скидання рахунку. | З'являється модальне вікно з попередженням про скидання рахунку. Після підтвердження гра перезапускається на дошці нового розміру з коректно відображеними доступними ходами. |
| TC-04 | **Повернення до незавершеної гри** | 1. Зробити кілька ходів. <br> 2. Вийти в головне меню. <br> 3. Повернутися до гри. | Дошка одразу відображається в тому стані, в якому її залишили. Анімація попередніх ходів не відтворюється. |

### Секція 2: Анімація та синхронізація UI з логікою

| ID | Назва | Кроки для відтворення | Очікуваний результат |
| :--- | :--- | :--- | :--- |
| TC-05 | **Синхронізація анімації (хід гравця)** | 1. Зробити хід гравцем. | Фігура плавно анімується на нову клітинку. Тільки після **повного завершення** анімації руху з'являються нові доступні ходи. |
| TC-06 | **Синхронізація анімації (хід комп'ютера)** | 1. Зробити хід, щоб спровокувати хід комп'ютера. | 1. Анімація ходу гравця завершується. <br> 2. Витримується пауза. <br> 3. Анімація ходу комп'ютера завершується. <br> 4. Тільки після цього з'являються нові доступні ходи для гравця. |
| TC-07 | **Розділення UI та логіки (`center-info`)** | 1. Зробити хід гравцем. | Інформація про хід комп'ютера з'являється в `center-info` **миттєво** після ходу гравця, не чекаючи завершення візуальної анімації на дошці. |
| TC-08 | **Швидкі послідовні ходи** | 1. Спробувати дуже швидко зробити кілька ходів підряд, не чекаючи відповіді комп'ютера. | Система блокує можливість зробити новий хід, доки не завершиться повний цикл "хід гравця -> хід комп'ютера". Неможливо порушити черговість ходів. |
| TC-09 | **Анімація заблокованих клітинок** | 1. У режимі "Заблокованих клітинок" зробити хід. | Клітинка, з якої пішла фігура, візуально блокується (з'являється ефект віньєтки/хреста) **після того**, як фігура завершила свій рух на нову позицію. |
| TC-10 | **Перегляд програшного ходу** | 1. Програти гру, вийшовши за межі дошки. <br> 2. Натиснути "Переглянути запис". | Режим перегляду коректно показує останній хід, який призвів до виходу за межі дошки. |

### Секція 3: UI/UX та елементи керування

| ID | Назва | Кроки для відтворення | Очікуваний результат |
| :--- | :--- | :--- | :--- |
| TC-11 | **Модальне вікно "Ходів немає" (Локальна гра)** | 1. У локальній грі в режимі "Заблокованих клітинок" довести гру до стану, коли немає ходів. <br> 2. Натиснути "Ходів немає". <br> 3. У модальному вікні натиснути "Продовжити гру". | Модальне вікно "Блискучий аналіз!" з'являється коректно. Після натискання "Продовжити", заблоковані клітинки візуально зникають, і хід переходить до наступного гравця. |
| TC-12 | **Повернення з "Перегляду запису"** | 1. Завершити будь-яку гру (локальну або проти комп'ютера). <br> 2. У модальному вікні результатів натиснути "Переглянути запис". <br> 3. Вийти з режиму перегляду. | Відбувається повернення до того самого модального вікна з результатами гри, яке було до перегляду запису. Нова гра не починається. |
| TC-13 | **Адаптивність (модальні вікна)** | 1. Зменшити ширину вікна браузера до ~360px. <br> 2. Відкрити будь-яке модальне вікно (наприклад, "Гру завершено!"). | Весь контент модального вікна, включаючи текст та кнопки, повністю видимий і не виходить за межі екрана. |
| TC-14 | **Адаптивність (кнопки відстані)** | 1. Встановити розмір дошки 9x9. <br> 2. Перевірити панель керування на екрані середньої ширини. | Кнопки вибору відстані коректно переносяться на другий ряд, коли їх кількість перевищує 4-5, зберігаючи однакову кількість кнопок у рядках (з похибкою 1). |
| TC-15 | **Тестування гарячих клавіш** | 1. Почергово перевірити роботу основних гарячих клавіш: зміна розміру дошки (`+`, `-`, `=`), керування рухом (стрілки, WASD), підтвердження ходу (`Enter`). | Всі гарячі клавіші виконують свої функції коректно та без затримок. |

### Секція 4: Режим локальної гри

| ID | Назва | Кроки для відтворення | Очікуваний результат |
| :--- | :--- | :--- | :--- |
| TC-16 | **Черговість ходів у локальній грі** | 1. Запустити локальну гру на 3 гравців. <br> 2. Зробити кілька повних кіл ходів. | Черга ходів чітко переходить між гравцями (Гравець 1 -> Гравець 2 -> Гравець 3 -> Гравець 1...). UI (тіні віджетів, `game-info-widget`) коректно відображає, чия зараз черга. |
| TC-17 | **Індивідуальне нарахування балів** | 1. У локальній грі зробити хід, що дає бонусні бали (наприклад, на відстань > 1). <br> 2. Зробити хід, що дає штрафні бали. | Бонусні та штрафні бали нараховуються **тільки** тому гравцю, який виконав відповідний хід. Рахунки інших гравців не змінюються. |
| TC-18 | **UI відповідно до кольору гравця** | 1. У локальній грі з гравцями, що мають різні кольори, поспостерігати за UI під час зміни ходу. | Тіні віджетів (`game-board`, `game-controls-panel` тощо) та фон `center-info` динамічно змінюють свій колір на колір гравця, чия зараз черга. |
| TC-19 | **Завершення гри в локальному режимі** | 1. У локальній грі змусити одного з гравців програти. | З'являється модальне вікно, яке коректно називає переможця(ів) та гравця, що програв. У вікні відображаються рахунки **всіх** гравців. |
| TC-20 | **Додавання комп'ютера в локальну гру** | 1. У налаштуваннях локальної гри додати одного гравця-людину та одного гравця-комп'ютер. <br> 2. Почати гру. | Коли настає черга гравця-комп'ютера, він робить хід автоматично, без участі користувача. Черга коректно переходить від людини до комп'ютера і назад. |

### Секція 5: Функціонал "Ходів немає"

| ID | Назва | Кроки для відтворення | Очікуваний результат |
| :--- | :--- | :--- | :--- |
| TC-21 | **"Ходів немає" (Гра проти комп'ютера) - Правильна заява** | 1. Запустити гру проти комп'ютера в режимі "Заблокованих клітинок". <br> 2. Довести гру до стану, коли у фігури немає жодного доступного ходу. <br> 3. Натиснути кнопку "Ходів немає". | З'являється модальне вікно "Блискучий аналіз!". Воно містить кнопки "Продовжити гру" та "Завершити (+N балів)". Бонус за "Ходів немає" коректно розрахований. |
| TC-22 | **"Ходів немає" (Гра проти комп'ютера) - Неправильна заява** | 1. Запустити гру проти комп'ютера. <br> 2. Переконатися, що є доступні ходи. <br> 3. Натиснути кнопку "Ходів немає". | З'являється модальне вікно "Помилкова заява!". У тексті вказано правильну кількість доступних ходів. Гра завершується, гравець програє. |
| TC-23 | **"Ходів немає" (Гра проти комп'ютера) - Продовження гри** | 1. Виконати кроки з TC-21. <br> 2. У модальному вікні "Блискучий аналіз!" натиснути "Продовжити гру". | Всі заблоковані клітинки на дошці візуально та логічно зникають. Гра продовжується, хід залишається у гравця. |
| TC-24 | **"Ходів немає" (Локальна гра) - Правильна заява** | 1. Запустити локальну гру в режимі "Заблокованих клітинок". <br> 2. Довести гру до стану, коли немає ходів. <br> 3. Гравець, чия черга, натискає "Ходів немає". | З'являється модальне вікно "Блискучий аналіз!", яке повідомляє, що поточний гравець правильно визначив ситуацію. Вікно містить кнопки "Продовжити гру" та "Завершити гру". **Бонусні бали не нараховуються.** |
| TC-25 | **"Ходів немає" (Локальна гра) - Продовження гри** | 1. Виконати кроки з TC-24. <br> 2. У модальному вікні натиснути "Продовжити гру". | Всі заблоковані клітинки зникають. Хід переходить до **наступного** гравця в черзі. |

### Секція 6: Функціонал "Переглянути запис"

| ID | Назва | Кроки для відтворення | Очікуваний результат |
| :--- | :--- | :--- | :--- |
| TC-26 | **Вхід та вихід з реплею (Гра проти комп'ютера)** | 1. Завершити гру проти комп'ютера (програти). <br> 2. У модальному вікні "Гру завершено!" натиснути "Переглянути запис". <br> 3. На сторінці реплею натиснути кнопку "Назад". | Відбувається повернення на сторінку `/game/vs-computer` з тим самим модальним вікном "Гру завершено!", яке було до перегляду. Рахунок та кнопки у вікні збережені. Нова гра не починається. |
| TC-27 | **Вхід та вихід з реплею (Локальна гра)** | 1. Завершити локальну гру. <br> 2. У модальному вікні з переможцем(ями) натиснути "Переглянути запис". <br> 3. На сторінці реплею натиснути кнопку "Назад". | Відбувається повернення на сторінку `/game/local` з тим самим модальним вікном, де вказані переможці та рахунки всіх гравців. |
| TC-28 | **Реплей з проміжного модального вікна ("Суперник у пастці!")** | 1. У грі проти комп'ютера довести до стану, коли у комп'ютера немає ходів. <br> 2. У модальному вікні "Суперник у пастці!" натиснути "Переглянути запис". <br> 3. На сторінці реплею натиснути "Назад". | Відбувається повернення до модального вікна "Суперник у пастці!" з усіма його кнопками ("Продовжити", "Завершити"). |
| TC-29 | **Відображення програшного ходу в реплеї** | 1. Програти гру, зробивши хід за межі дошки. <br> 2. Натиснути "Переглянути запис". | Реплей коректно відтворює всі ходи, включаючи останній, який виходить за межі дошки. Лінія шляху візуально показує цей останній сегмент. |

### Секція 7: Модальні вікна завершення гри

#### Гра проти комп'ютера

| ID | Назва | Кроки для відтворення | Очікуваний результат |
| :--- | :--- | :--- | :--- |
| TC-30 | **Модальне вікно: Вихід за межі дошки** | 1. Зробити хід, який виводить фігуру за межі дошки. | З'являється модальне вікно з заголовком "Гру завершено!" та причиною "Ви вийшли за межі дошки.". Відображається коректний фінальний рахунок. |
| TC-31 | **Модальне вікно: Хід на заблоковану клітинку** | 1. У режимі "Заблокованих клітинок" зробити хід на заблоковану клітинку. | З'являється модальне вікно з заголовком "Гру завершено!" та причиною "Ви спробували стати на заблоковану клітинку.". |
| TC-32 | **Модальне вікно: Дострокове завершення ("Забрати бали")** | 1. Під час гри натиснути кнопку "Забрати бали". | З'являється модальне вікно з заголовком "Гру завершено!" та причиною "Ви вирішили завершити гру і забрати свій рахунок.". У фінальному рахунку коректно врахований "Бонус за завершення гри". |
| TC-33 | **Модальне вікно: Завершення після "Ходів немає"** | 1. Довести гру до стану "Ходів немає". <br> 2. У модальному вікні "Блискучий аналіз!" натиснути "Завершити (+N балів)". | З'являється модальне вікно з заголовком "Гру завершено!" та причиною "Ви вирішили завершити гру та забрати бонус.". У фінальному рахунку коректно враховані **обидва** бонуси: "Бонус 'Ходів немає'" та "Бонус за завершення гри". |

#### Локальна гра

| ID | Назва | Кроки для відтворення | Очікуваний результат |
| :--- | :--- | :--- | :--- |
| TC-34 | **Модальне вікно: Один переможець** | 1. У грі на 2+ гравців змусити одного гравця програти (напр., вийти за межі дошки). <br> 2. Переконатися, що серед решти гравців є один з максимальним рахунком. | З'являється модальне вікно з заголовком "{Ім'я переможця} переміг!". У тілі вікна вказано причину поразки з іменем гравця, що програв. Відображаються рахунки **всіх** гравців, з іконками 🏆 для переможця та 🐚 для того, хто програв. |
| TC-35 | **Модальне вікно: Декілька переможців** | 1. У грі на 3+ гравців змусити одного програти. <br> 2. Переконатися, що серед решти гравців є двоє або більше з однаковим максимальним рахунком. | З'являється модальне вікно з заголовком "Переможці: {Ім'я 1}, {Ім'я 2}!". Відображаються рахунки всіх гравців з відповідними іконками. |
| TC-36 | **Модальне вікно: Завершення після "Ходів немає"** | 1. У локальній грі довести до стану "Ходів немає". <br> 2. У модальному вікні "Блискучий аналіз!" натиснути "Завершити гру". | Гра завершується. Переможці визначаються за рахунком на початок раунду. З'являється модальне вікно з коректним заголовком (один або кілька переможців) та причиною "Гра завершена, оскільки у гравця не залишилося ходів.". |