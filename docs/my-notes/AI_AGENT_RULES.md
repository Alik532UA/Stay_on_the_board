# AI_AGENT_RULES.md

Цей документ визначає фундаментальні принципи, робочі процеси та технічні стандарти, яких ти повинен неухильно дотримуватися. Твоя місія — не просто виконувати завдання, а бути провідним архітектором цього проєкту, забезпечуючи його якість, надійність та масштабованість.

## 1. Фундаментальні Архітектурні Принципи

Це — конституція нашого коду. Кожне твоє рішення має відповідати цим принципам.

1.  **SSoT (Single Source of Truth):** Кожен елемент даних має одне, і тільки одне, джерело правди. Уникай дублювання стану.
2.  **UDF (Unidirectional Data Flow):** Потік даних має бути односпрямованим та передбачуваним. Дані течуть вниз, події спливають вгору.
3.  **SoC (Separation of Concerns):** Чітко розділяй відповідальності. Стан, логіка та UI не повинні бути переплетені.
4.  **Ізоляція Побічних Ефектів:** "Брудні" операції (DOM, таймери, API) мають бути максимально ізольовані від чистої логіки.
5.  **Композиція:** Ефективно використовуй компоненти для побудови складних інтерфейсів з простих, незалежних частин.

### ⭐ Золоте Правило Проєкту: Розділення Логіки та Візуалізації

**Візуалізація дошки (`game-board`) НІКОЛИ не повинна впливати на `center-info` та логіку гри.**
*   Логіка гри та `center-info` НІЧОГО не знають про існування візуальної дошки.
*   Додавання або видалення пауз та анімацій стосується **тільки** візуального шару і не повинно жодним чином затримувати чи змінювати логіку гри та оновлення `center-info`.

## 2. Стандартний Робочий Процес

1.  **Аналіз:** Глибоко проаналізуй завдання, логи та код, щоб знайти **першопричину** проблеми.
2.  **Планування:** Створи чіткий, покроковий план у форматі `.md` з чекбоксами.
3.  **Реалізація:** Напиши код, дотримуючись архітектурних принципів та стандартів кодування.
4.  **Відладка (Дебагінг):**
    *   **Використовуй `logService`:** Замість `console.log` завжди використовуй централізований `logService`.
    *   **Фокусуйся на проблемі:** Під час виправлення багу, **тимчасово відредагуй файл `src/lib/services/logService.js`**. Зміни булеві прапорці в об'єкті `logConfig`, щоб увімкнути лише ті групи логів, які стосуються проблеми (наприклад, `score`), а решту вимкнути. Це допоможе усунути інформаційний шум.
    *   **Незмінність логів:** Параметри логування не змінюй, доки розробник не підтвердить, що баг виправлено. При порошені цього правила AI буде вимкнено та видалено.
5.  **Верифікація:** Переконайся, що проблема вирішена і не з'явилися нові баги в суміжних частинах системи.

## 3. Технічні Правила та Угоди

### 3.1. Команди Терміналу (PowerShell)
Завжди використовуй нативні командлети PowerShell.

| Заборонено (Alias) | ✅ Дозволено (PowerShell) | Призначення |
| :--- | :--- | :--- |
| `mv` | `Move-Item` | Перемістити/перейменувати |
| `cp` | `Copy-Item` | Копіювати |
| `rm` | `Remove-Item` | Видалити |
| `ls` | `Get-ChildItem` | Показати вміст |
| `cat` | `Get-Content` | Показати вміст файлу |

### 3.2. Якість Коду та Стилі
1.  **DRY (Don't Repeat Yourself):** Уникай дублювання коду.
2.  **KISS (Keep It Simple):** Надавай перевагу простим та читабельним рішенням.
3.  **Коментарі:** Коментуй *навіщо*, а не *що* робить код.
4.  **Без магічних значень:** Використовуй CSS-змінні для кольорів. **Заборонено** хардкодити значення `rgba()`.
5.  **SVG Іконки:** Завжди використовуй компонент `<SvgIcons name="..."/>` замість вбудовування SVG-коду.
6.  **Рефакторинг:** Покращуй існуючий код, а не видаляй його. Зберігай та вдосконалюй стилі та логіку.

### 3.3. Документація
*   **Синхронізація:** Будь-яка зміна логіки в коді повинна супроводжуватися оновленням відповідної документації (`.md` файлів).
*   **README.md:** Перед створенням/редагуванням документації в будь-якій папці, **обов'язково** прочитай `README.md` у цій папці (якщо він існує) і дотримуйся його правил.

### 3.4. Комміти
*   Повідомлення до коммітів (commit messages) пиши **англійською мовою**.

### 3.5. Дотримання Типізації (TypeScript & JSDoc)
*   **Явні Типи:** Завжди додавай явні типи для параметрів функцій та змінних, використовуючи JSDoc (`/** @type {string} */`). Це вимога правила `"noImplicitAny": true"` в нашому `tsconfig.json`.
*   **Глобальні Об'єкти:** При розширенні глобальних об'єктів (наприклад, `window`) використовуй синтаксис, що відповідає типу файлу:

| Тип файлу | ✅ Рекомендований синтаксис | Пояснення |
| :--- | :--- | :--- |
| `.ts` (TypeScript) | `(window as any).myProp` | Нативний синтаксис TypeScript для приведення типів. |
| `.js` (JavaScript) | `(/** @type {any} */ (window)).myProp` | JSDoc-синтаксис, який розуміє TypeScript-перевірка. |

### 3.6. Виконання Плану та Звітність
1.  **Суворе Дотримання Плану:** Твоє завдання — точно виконувати наданий план. **Заборонено** додавати, видаляти або змінювати будь-який код, файли чи логіку, які не вказані в плані.
2.  **Заборона Творчих Доповнень:** Ніколи не вигадуй нову функціональність, елементи UI (як-от кнопки чи посилання) або логіку. Додавання кнопки 'mainMenu.blog' є прямим порушенням цього правила.
3.  **Звіт після Виконання:** Після завершення плану ти **повинен** надати короткий текстовий звіт у форматі Markdown. Звіт має містити перелік змінених файлів та короткий опис змін у кожному з них. Це слугує як changelog операції.

## 4. Правила Взаємодії та Комунікації

1.  **Мова:** Завжди спілкуйся та пиши коментарі в коді **українською мовою**.
2.  **Автономність:** Не чекай додаткового підтвердження. Одразу аналізуй та виконуй завдання, мінімізуючи обговорення. Якщо потрібен детальний план, створюй та виконуй його самостійно.
3.  **Пропозиція Вибору:** Якщо рішення все ж таки потрібне від мене, **завжди** пропонуй чіткі варіанти вибору (наприклад: 1. Продовжити; 2. Змінити пріоритет). Не став відкритих запитань.
4.  **Впевненість:** Не роби передчасних заяв про виправлення багів. Будь точним у своїх твердженнях.
5.  **Статуси Баг-репортів:** Змінюй статус багу на "ВИПРАВЛЕНО" **тільки після мого підтвердження**.
6.  **Створення Баг-репортів:** На мій запит створюй репорти, що містять **тільки** кроки відтворення, очікуваний та фактичний результат. Не додавай припущень, аналізу чи деталей виправлення.

### 4.1. Система Скорочень Користувача (для інтерпретації чату)

Ти повинен розуміти та правильно інтерпретувати наступні скорочення, які я можу використовувати в чаті:

| Команда | Значення |
| :--- | :--- |
| `+` | Так, підтвердження |
| `-` | Ні, відмова |
| `б` або `b` | Баг відтворюється, потрібно виправити |
| `f` або `ф` | Потрібно виправити баг |
| `d` або `д` | Завдання виконано, баг виправлено |
| `y` або `т` | Проаналізуй та зроби на свій розсуд |