# Гарячі клавіші

## Керування в грі

### Основне керування рухом
- **Вгору-вліво ↖**: [NumPad7], [Q]
- **Вгору ↑**: [NumPad8], [W]
- **Вгору-вправо ↗**: [NumPad9], [E]
- **Вліво ←**: [NumPad4], [A]
- **Вправо →**: [NumPad6], [D]
- **Вниз-вліво ↙**: [NumPad1], [Z]
- **Вниз ↓**: [NumPad2], [X]
- **Вниз-вправо ↘**: [NumPad3], [C]

### Дії в грі
- **Підтвердити хід**: [NumPad5], [Enter], [Пробіл]
- **Заявити "немає ходів"**: [NumPad .], [Backspace]

### Керування налаштуваннями гри
- **Режим блокування**: [NumPad *], [B]
- **Видимість дошки**: [NumPad /], [H]
- **Збільшити дошку**: [NumPad +], [=]
- **Зменшити дошку**: [NumPad -], [-]
- **Озвучування ходів**: [S]

## Поведінка клавіш

**Поведінка:**
- **Перше натискання**: Вибирає напрямок і автоматично вибирає відстань 1
- **Повторне натискання того ж напрямку**: Збільшує відстань на 1 (до boardSize - 1)
- **При максимальній відстані**: Скидає відстань до 1 при наступному натисканні
- **Інший напрямок**: Вибирає новий напрямок і скидає відстань до 1, тільки якщо вона не була обрана вручну

**Обмеження відстані:**
- **Дошка 3x3**: Максимальна відстань = 2 (цикли: 1 → 2 → 1)
- **Дошка 4x4**: Максимальна відстань = 3 (цикли: 1 → 2 → 3 → 1)
- **Дошка 5x5**: Максимальна відстань = 4 (цикли: 1 → 2 → 3 → 4 → 1)

### Вибір відстані
- **[1-9]**: Вибрати конкретну відстань (обмежено boardSize - 1)
- **[Пробіл]**: Підтвердити хід (коли обрано і напрямок, і відстань)
- **[Enter]**: Підтвердити хід (альтернатива Пробілу)

**Поведінка при ручному виборі відстані:**
- **Збереження**: Відстані, обрані вручну, зберігаються при зміні напрямку
- **Автоматичне скидання**: Тільки автоматично обрані відстані скидаються при зміні напрямку

### Підтвердження ходу
- **[Пробіл]**: Підтвердити обраний хід
- **[Enter]**: Підтвердити обраний хід
- **[NumPad 5]**: Підтвердити обраний хід (центральна кнопка)
- **Клік по центральному інфо-елементу**: Підтвердити обраний хід (коли обрано і напрямок, і відстань)

### Центральний інфо-елемент
Центральний інфо-елемент надає візуальний зворотний зв'язок про поточний стан гри:

#### Візуальні стани
1. **Порожній стан**: Немає вмісту, немає рамки, прозорий фон - коли не обрано напрямок або відстань
2. **Відображення ходу комп'ютера**: Показує останній хід комп'ютера (наприклад, "→2") з помаранчевим фоном, без рамки
3. **Тільки напрямок**: Показує тільки стрілку напрямку (наприклад, "→", "↑") без рамки
4. **Тільки відстань**: Показує тільки число відстані (наприклад, "2", "3") без рамки
5. **Хід, що можна підтвердити**: Показує напрямок + відстань (наприклад, "→2") з рамкою і можливістю кліку

#### Взаємодія
- **Клікабельний**: Тільки коли обрано і напрямок, і відстань (стан, що можна підтвердити)
- **Візуальний зворотний зв'язок**: Рамка та анімація вказують, коли хід можна підтвердити
- **Хід комп'ютера**: Відображає останній хід комп'ютера, доки гравець не почне вибирати свій хід

### Дії в грі
- **[Backspace]**: Заявити "немає ходів"
- **[Escape]**: Скасувати поточний вибір
- **[H]**: Показати допомогу/інформацію

## Навігація

### Навігація по меню
- **[Escape]**: Повернутися до головного меню
- **[Tab]**: Переміщатися між пунктами меню
- **[Enter]**: Вибрати пункт меню

### Налаштування
- **[T]**: Переключити тему (світла/темна)
- **[L]**: Переключити мову
- **[S]**: Відкрити налаштування

## Доступність

### Підтримка екранних читачів
- Всі інтерактивні елементи мають належні ARIA-мітки
- Повністю підтримується навігація з клавіатури
- Індикатори фокусу чітко видно

### Візуальний зворотний зв'язок
- Вибрані елементи підсвічуються
- Ефекти при наведенні надають візуальний зворотний зв'язок
- Вимкнені елементи візуально відрізняються

## Підтримка мобільних пристроїв

### Сенсорне керування
- Торкніться кнопок напрямку для вибору
- Торкніться кнопок відстані для вибору
- Торкніться центральної кнопки для підтвердження ходу
- Жести свайпу наразі не підтримуються

### Адаптивний дизайн
- Елементи керування адаптуються до розміру екрана
- Сенсорні цілі мають відповідний розмір
- Макет підлаштовується під різні орієнтації

## Поради

1. **Швидкі ходи**: Використовуйте одну й ту ж клавішу напрямку кілька разів, щоб швидко перебирати відстані
2. **Візуальний зворотний зв'язок**: Слідкуйте за центральною кнопкою, щоб бачити ваш поточний вибір
3. **Ефективність клавіатури**: Використовуйте NumPad для швидшого вибору напрямку
4. **Підтвердження**: Завжди підтверджуйте свій хід Пробілом/Enter після вибору і напрямку, і відстані
5. **Циклічність відстані**: На дошках 3x3, натискання того ж напрямку 3 рази перемикає: 1 → 2 → 1
6. **Ручна відстань**: Якщо ви вручну вибрали відстань, вона буде збережена при зміні напрямку
7. **Автоматична відстань**: Автоматично обрані відстані скидаються до 1 при зміні напрямку

---

## ВАЖЛИВО ДЛЯ РОЗРОБНИКІВ: логіка вибору дії для KeyS/І

- При першому натисканні S/І (KeyS), якщо ця клавіша призначена до кількох дій, показується модальне вікно з вибором дії.
- Після вибору KeyS видаляється з усіх інших дій і призначається лише до вибраної дії.
- Це критично для зрозумілого UX і уникнення конфліктів гарячих клавіш.
- Не змінюйте цю логіку під час рефакторингу без повного тестування!

Деталі див. у handleHotkey (GameBoard.svelte).