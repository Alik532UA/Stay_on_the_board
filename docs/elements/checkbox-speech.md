# Елемент: Чекбокс "Озвучування ходів"

## Призначення (Purpose)

Вмикає/вимикає синтез мовлення для озвучування ходів гравця та комп'ютера.

## Джерело Правда (SSoT) та Залежності від Стану (State Dependencies)

-   **`appSettingsStore.speechEnabled`**: Основне джерело стану.
-   **`appSettingsStore.selectedVoiceURI`**: Зберігає обраний голос.

## Поведінка (Behavior)

1.  **Перша активація**: При першому увімкненні (або якщо голоси не налаштовані) викликає модальне вікно `VoiceSettingsModal` для вибору голосу.
2.  **Іконка налаштувань**: Поруч із чекбоксом з'являється іконка, яка дозволяє повторно відкрити `VoiceSettingsModal`.
3.  **Побічний ефект**: Коли прапорець увімкнений, озвучення ходів відбувається наступним чином:
    -   **Гра проти VirtualPlayer**: `VsVirtualPlayerGameMode` викликає `speechService.speakText()` для озвучення ходу VirtualPlayer. Хід гравця не озвучується.
    -   **Локальна гра**: `gameOrchestrator` викликає `speechService.speakText()` для озвучення ходу кожного гравця.

## Взаємодія з Користувачем (User Interaction)

-   **Клік на чекбокс**: Викликає `appSettingsStore.toggleSpeech()`, яка містить асинхронну логіку перевірки доступності голосів та виклику модального вікна.
-   **Клік на іконку налаштувань**: Викликає `openVoiceSettingsModal()`.

## Архітектурні Нотатки та UI/UX

-   Це приклад інтеграції з API браузера (Web Speech API). Вся логіка роботи з API інкапсульована в `speechService.js`.
-   Через асинхронну та не завжди надійну природу Web Speech API, логіка активації чекбокса є асинхронною і містить перевірки доступності голосів.

## Критерії Прийняття (Acceptance Criteria)

-   [ ] При кліку на чекбокс (якщо голоси доступні) він вмикається.
-   [ ] При першому кліку з'являється модальне вікно налаштувань.
-   [ ] Коли чекбокс увімкнений, ходи VirtualPlayer озвучуються.
-   [ ] Кнопка налаштувань відкриває відповідне модальне вікно.