# Система Кастомних Підказок (Tooltips) та Гарячих Клавіш

Цей документ описує архітектуру та використання централізованої системи для відображення стилізованих підказок (тултіпів) та динамічного призначення цифрових гарячих клавіш (1-9) для груп кнопок.

## Архітектура

Система складається з трьох основних частин, що працюють разом, дотримуючись принципу єдиного джерела правди (SSoT):

1.  **`Tooltip.svelte` (`src/lib/components/Tooltip.svelte`)**
    *   Простий візуальний компонент, що відповідає виключно за відображення підказки.
    *   Приймає `content` (може бути HTML), та координати `x`, `y`.
    *   Містить глобальний стиль для класу `.hotkey-kbd`, що дозволяє стилізувати цифру гарячої клавіші як клавішу на клавіатурі.

2.  **`tooltipStore.js` (`src/lib/stores/tooltipStore.js`)**
    *   Глобальний Svelte store, який є єдиним джерелом правди для стану підказки.
    *   Зберігає її видимість (`isVisible`), контент (`content`) та координати (`x`, `y`).
    *   Надає прості методи для керування підказкою: `show()`, `hide()`, `move()`.

3.  **`hotkeysAndTooltips.js` (`src/lib/actions/hotkeysAndTooltips.js`)**
    *   Універсальна Svelte Action, яка є основним інструментом для інтеграції.
    *   Ця дія застосовується до будь-якого HTML-елемента-контейнера.

## Принцип Роботи

1.  У головному лейауті додатку (`src/routes/+layout.svelte`) знаходиться єдиний екземпляр компонента `<Tooltip />`. Його видимість та вміст повністю керуються через `tooltipStore`.
2.  До будь-якого контейнера з кнопками (наприклад, `<div class="my-buttons">`) додається дія `use:hotkeysAndTooltips`.
3.  Дія автоматично знаходить всі дочірні елементи `<button>` всередині цього контейнера.
4.  Для кожної кнопки:
    *   Призначається порядковий номер (1, 2, 3...).
    *   Додаються слухачі подій `mouseover`, `mousemove`, `mouseleave`.
    *   При наведенні (з затримкою в 1 секунду) дія викликає `tooltipStore.show()`, передаючи HTML-контент з інформацією про гарячу клавішу.
    *   При знятті курсора дія викликає `tooltipStore.hide()`.
5.  Дія також додає один глобальний слухач `keydown`, який відстежує натискання цифрових клавіш. Якщо натиснуто клавішу, і контейнер, до якого застосована дія, є видимим, дія програмно викликає `.click()` на відповідній кнопці.

## Як Використовувати

Щоб додати гарячі клавіші та підказки до групи кнопок, виконайте два простих кроки:

1.  **Імпортуйте дію** у ваш компонент:
    ```javascript
    import { hotkeysAndTooltips } from '$lib/actions/hotkeysAndTooltips.js';
    ```

2.  **Застосуйте дію** до HTML-елемента, що містить ваші кнопки:
    ```html
    <div class="button-container" use:hotkeysAndTooltips>
      <button on:click={doSomething}>Перша дія</button>
      <button on:click={doSomethingElse}>Друга дія</button>
      <button on:click={anotherAction}>Третя дія</button>
    </div>
    ```

Система автоматично призначить `HotKey 1` першій кнопці, `HotKey 2` — другій, і так далі, а також створить для них відповідні підказки.