# Алгоритм Робочого Процесу AI: Атомарні Операції та Збереження Стану

## 1. Принцип

Для забезпечення стабільності та можливості відновлення під час розробки, всі зміни, що вносяться AI, повинні бути **атомарними** та **самодостатніми**. Після кожної значної зміни проміжний результат повинен бути збережений у тимчасовий файл, а головний план — оновлений.

Цей алгоритм розроблено для мінімізації ризиків, пов'язаних із перериваннями, та гарантує, що роботу можна буде відновити плавно та ефективно.

## 2. Кроки Алгоритму

1.  **Детальний План:**
    *   Перед початком будь-якого завдання необхідно створити детальний план у форматі `.md` з чекбоксами. Він слугуватиме дорожньою картою для виконання завдання.

2.  **Створення Резервної Копії:**
    *   Перед модифікацією критично важливого файлу (напр., `gameLogicService.ts`), створіть резервну копію з розширенням `.bak` (напр., `gameLogicService.ts.bak`). Цей файл є точкою відновлення.

3.  **Атомарні Зміни:**
    *   Застосовуйте зміни невеликими, логічними кроками. Надавайте перевагу `apply_diff` для цільових, ізольованих правок замість перезапису цілих файлів за допомогою `write_to_file`.

4.  **Проміжна Перевірка:**
    *   Після кожної успішної модифікації запускайте `npm run check`, щоб переконатися, що не було внесено синтаксичних помилок.

5.  **Оновлення Плану:**
    *   Після кожного успішного кроку оновлюйте `.md` файл плану, відмічаючи виконаний пункт.

6.  **Фінальна Перевірка та Очищення:**
    *   Лише після того, як модифікація файлу завершена і всі перевірки (`npm run check` та `npx playwright test`) пройдені успішно, видаліть файл `.bak`.

## 3. Переваги

*   **Відновлення після збою:** Якщо станеться переривання, файл `.bak` надасть останню робочу версію. План у `.md` файлі точно покаже, на якому етапі зупинилася робота, що дозволить безшовно її продовжити.
*   **Зменшення ризиків:** Робота невеликими кроками значно знижує ймовірність внесення критичних помилок.
*   **Прозорість:** Файл плану надає чітке та актуальне уявлення про прогрес виконання завдання.