# План покращення архітектури (v2)

## 1. SSoT (Single Source of Truth)
- [ ] Винести всі режими гри (локальний, онлайн, майбутні) у окремі модулі стану.
- [ ] Впровадити фабрику сторів: кожен режим створює свій стор, а головний стор делегує операції відповідному режиму.
- [ ] Всі глобальні налаштування (theme, language) — окремо від ігрового стану.
- [ ] Додати типи/інтерфейси для стану кожного режиму.
- [ ] Всі збереження/відновлення стану — централізовано через окремий сервіс.

## 2. UDF (Unidirectional Data Flow)
- [ ] Всі зміни стану — лише через екшени/методи, заборонити прямі мутації.
- [ ] Винести побічні ефекти (таймери, API, аудіо) у окремі сервіси.
- [ ] Впровадити middleware для логування/аналітики.
- [ ] Додати unit-тести для екшенів та потоків даних.

## 3. SoC (Separation of Concerns)
- [ ] Декомпозувати великі компоненти (наприклад, GameBoard) на дрібніші.
- [ ] Винести логіку режимів у окремі файли/класи.
- [ ] Всі сервіси (логування, модалки, аудіо) — окремими модулями.
- [ ] Впровадити інтерфейси для взаємодії між модулями.

## 4. Композиція
- [ ] Впровадити патерн "контейнер-презентер": логіка — у контейнері, UI — у презентерах.
- [ ] Всі віджети мають бути максимально dumb (тільки props, мінімум стану).
- [ ] Всі layout-и — через конфігураційні об'єкти.
- [ ] Додати приклади використання компонентів у Storybook/Docs.

## 5. Чистота та Побічні ефекти
- [ ] Винести всі підписки, таймери, API у кастомні стори/сервіси.
- [ ] Всі побічні ефекти — через єдиний entry-point (наприклад, через екшени).
- [ ] Впровадити тестування побічних ефектів.
- [ ] Додати документацію щодо побічних ефектів.

## 6. DRY
- [ ] Винести спільну логіку (наприклад, обробку ходів, підрахунок балів) у утиліти/core.
- [ ] Уникати дублювання стилів — централізувати CSS.
- [ ] Всі константи (напрямки, бонуси) — у окремі файли.
- [ ] Додати лінтер на дублювання коду.

## 7. KISS
- [ ] Рефакторити великі реактивні блоки на простіші функції.
- [ ] Всі складні обчислення — у утиліти.
- [ ] Впровадити ESLint/Prettier для підтримки стилю коду.
- [ ] Додати code review чеклист для простоти.

## 8. Продуктивність
- [ ] Оптимізувати підписки: уникати зайвих реакцій на незначні зміни.
- [ ] Впровадити мемоізацію для важких обчислень.
- [ ] Для онлайн-режиму — оптимізувати синхронізацію (мінімізувати кількість оновлень).
- [ ] Додати профілювання рендерів та обчислень.

## 9. Документація та Коментарі
- [ ] Додати README для кожного модуля/режиму.
- [ ] Всі складні рішення — пояснювати "навіщо" у коментарях.
- [ ] Впровадити шаблон для опису нових компонентів/модулів.
- [ ] Додати розділ "Архітектурні рішення" у документацію. 