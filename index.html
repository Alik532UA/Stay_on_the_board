<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–ª–∏—à–∏—Ç–∏—Å—è –Ω–∞ –¥–æ—à—Ü—ñ</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">
    <style>
        .icon-btn {
            text-decoration: none !important;
        }
    </style>
</head>
<body>
    <div id="top-controls">
        <button id="theme-style-btn" class="icon-btn" title="–¢–µ–º–∞ —Ç–∞ —Å—Ç–∏–ª—å">
            <span id="theme-style-icon">üåó</span>
        </button>
        <div id="theme-style-dropdown" class="custom-dropdown hidden">
            <div class="dropdown-section">
                <ul id="theme-style-options" class="theme-style-list">
                    <li class="theme-style-row" data-style="classic">
                        <button class="theme-btn light" data-theme="light">‚òÄÔ∏è</button>
                        <span class="theme-style-name">Ubuntu</span>
                        <button class="theme-btn dark" data-theme="dark">üåô</button>
                    </li>
                    <li class="theme-style-row" data-style="peak">
                        <button class="theme-btn light" data-theme="light">‚òÄÔ∏è</button>
                        <span class="theme-style-name">PEAK</span>
                        <button class="theme-btn dark" data-theme="dark">üåô</button>
                    </li>
                    <li class="theme-style-row" data-style="cs2">
                        <button class="theme-btn light" data-theme="light">‚òÄÔ∏è</button>
                        <span class="theme-style-name">CS 2</span>
                        <button class="theme-btn dark" data-theme="dark">üåô</button>
                    </li>
                    <li class="theme-style-row" data-style="glass">
                        <button class="theme-btn light" data-theme="light">‚òÄÔ∏è</button>
                        <span class="theme-style-name">Glassmorphism</span>
                        <button class="theme-btn dark" data-theme="dark">üåô</button>
                    </li>
                    <li class="theme-style-row" data-style="material">
                        <button class="theme-btn light" data-theme="light">‚òÄÔ∏è</button>
                        <span class="theme-style-name">Material You</span>
                        <button class="theme-btn dark" data-theme="dark">üåô</button>
                    </li>
                </ul>
            </div>
        </div>
        <button id="lang-btn" class="icon-btn" title="–ú–æ–≤–∞">
            <span id="lang-flag"></span>
        </button>
        <div id="lang-dropdown" class="custom-dropdown hidden">
            <ul id="lang-options" class="lang-dropdown-list">
                <li class="lang-option" data-lang="uk"><span class="flag flag-uk"></span></li>
                <li class="lang-option" data-lang="en"><span class="flag flag-en"></span></li>
                <li class="lang-option" data-lang="crh"><span class="flag flag-crh"></span></li>
            </ul>
        </div>
        <a href="https://send.monobank.ua/jar/8TPmFKQTCK/" target="_blank" id="donate-btn" class="icon-btn" title="–ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ—î–∫—Ç">
            <span>üí∞</span>
        </a>
    </div>
    
    <div id="game-container">
        <header>
            <h1 style="text-align: center;">–ó–∞–ª–∏—à–∏—Ç–∏—Å—è –Ω–∞ –¥–æ—à—Ü—ñ</h1>
            <div class="score-panel">
                <span>–û—á–∫–∏: <span id="score-display">0</span></span>
                <span class="online-users">üë• –û–Ω–ª–∞–π–Ω: <span id="online-count">1</span></span>
            </div>
        </header>
        
        <div id="board-options">
            <label for="hide-board-checkbox">
                –ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ –¥–æ—à–∫—É
                <span class="ios-switch">
                    <input type="checkbox" id="hide-board-checkbox">
                    <span class="slider"></span>
                </span>
            </label>
            <label for="blocked-mode-checkbox">
                –†–µ–∂–∏–º –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏—Ö –∫–ª—ñ—Ç–∏–Ω–æ–∫
                <span class="ios-switch">
                    <input type="checkbox" id="blocked-mode-checkbox">
                    <span class="slider"></span>
                </span>
            </label>
            <label for="show-moves-checkbox">
                –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ö–æ–¥–∏
                <span class="ios-switch">
                    <input type="checkbox" id="show-moves-checkbox">
                    <span class="slider"></span>
                </span>
            </label>
        </div>

        <div id="game-board">
            <!-- –ö–ª—ñ—Ç–∏–Ω–∫–∏ –¥–æ—à–∫–∏ –±—É–¥—É—Ç—å –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ —Ç—É—Ç -->
        </div>

        <div id="ui-panel">
            <p id="message-area">–í—ñ—Ç–∞—î–º–æ! –û–±–µ—Ä—ñ—Ç—å —Ä–µ–∂–∏–º –≥—Ä–∏ –≤ –≥–æ–ª–æ–≤–Ω–æ–º—É –º–µ–Ω—é.</p>
            
            <!-- –û–ù–û–í–õ–ï–ù–ê –ü–ê–ù–ï–õ–¨ –û–ù–õ–ê–ô–ù –ì–†–ò -->
            <div id="online-game-panel" class="hidden">
                <div id="connection-status">
                    <span id="connection-indicator">üî¥</span>
                    <span id="connection-text">–ù–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ</span>
                </div>
                
                <div id="game-info" class="hidden">
                    <span id="player-turn-indicator">–í–∞—à —Ö—ñ–¥</span>
                    <span id="opponent-name">–°—É–ø–µ—Ä–Ω–∏–∫</span>
                </div>
            </div>
            
            <div id="visual-controls" class="hidden">
                <div id="direction-grid">
                    <button class="control-btn" data-direction="7">‚Üñ</button>
                    <button class="control-btn" data-direction="8">‚Üë</button>
                    <button class="control-btn" data-direction="9">‚Üó</button>
                    <button class="control-btn" data-direction="4">‚Üê</button>
                    <div id="computer-move-display">–•—ñ–¥<br>–ö–æ–º–ø'—é—Ç–µ—Ä–∞</div>
                    <button class="control-btn" data-direction="6">‚Üí</button>
                    <button class="control-btn" data-direction="1">‚Üô</button>
                    <button class="control-btn" data-direction="2">‚Üì</button>
                    <button class="control-btn" data-direction="3">‚Üò</button>
                </div>

                <p class="controls-label">–û–±–µ—Ä—ñ—Ç—å –≤—ñ–¥—Å—Ç–∞–Ω—å:</p>
                <div id="distance-selector">
                    <!-- –ö–Ω–æ–ø–∫–∏ –≤—ñ–¥—Å—Ç–∞–Ω—ñ –±—É–¥—É—Ç—å –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ —Ç—É—Ç -->
                </div>

                <button id="confirm-move-btn">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —Ö—ñ–¥</button>
                <button id="no-moves-btn">–ú–µ–Ω—ñ –Ω–µ–º–∞—î –∫—É–¥–∏ —Ö–æ–¥–∏—Ç–∏</button>
                <button id="debug-moves-btn">–ü–æ–∫–∞–∑–∞—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ö–æ–¥–∏</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ -->
    <div id="modal-overlay" class="visible">
        <div id="modal-content">
            <h2 id="modal-title">Menu</h2>
            <div id="modal-body"></div>
            <div class="modal-footer"></div>
        </div>
    </div>

    <script type="module">
      import uk from './lang/uk.js';
      import en from './lang/en.js';
      import crh from './lang/crh.js';
      window.translationsAll = { uk, en, crh };
      window.translations = window.translationsAll[localStorage.getItem('lang') || 'uk'];
    </script>
    <script type="module" src="js/game.js"></script>
</body>
</html>