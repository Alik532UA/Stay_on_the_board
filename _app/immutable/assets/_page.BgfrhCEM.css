#game-board{display:grid;gap:2px;padding:28px 20px 24px;background:var(--bg-secondary);border-radius:24px;box-shadow:var(--unified-shadow);margin:0 auto;width:100%;max-width:340px}.board-cell{width:var(--cell-size);height:var(--cell-size);display:flex;align-items:center;justify-content:center;font-size:clamp(1.5rem,calc(45vmin / var(--board-size, 3)),8rem);font-weight:700;cursor:pointer;border-radius:12px;transition:all .3s ease;position:relative;user-select:none;box-sizing:border-box;color:#fff;z-index:1}.board-cell.light{background:var(--cell-light);box-shadow:0 1px 4px #ffb47812}.board-cell.dark{background:var(--cell-dark);box-shadow:0 1px 4px #78285021}.board-cell.available-move{position:relative}.board-cell.available-move:after{content:"●";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:calc(var(--cell-size) * .33);color:var(--text-accent)}.board-cell.player-piece{color:var(--piece-color);text-shadow:0 0 5px var(--piece-shadow)}.board-hidden .board-cell{background-color:var(--board-hidden-bg)!important;color:transparent!important;text-shadow:none!important}.board-hidden .board-cell:after{display:none!important}.piece-animating{animation:pieceMove .5s ease-in-out}@keyframes pieceMove{0%{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.8}to{transform:scale(1);opacity:1}}.player-glow{position:absolute;inset:0;border-radius:8px;opacity:0;transition:opacity .3s ease;pointer-events:none}#player1-glow{background:linear-gradient(45deg,transparent,rgba(76,175,80,.3),transparent);box-shadow:inset 0 0 20px #4caf5080}#player2-glow{background:linear-gradient(45deg,transparent,rgba(244,67,54,.3),transparent);box-shadow:inset 0 0 20px #f4433680}.player-glow.visible{opacity:1}.game-board-top-row{display:flex;justify-content:center;align-items:center;gap:16px;margin-bottom:16px}.main-menu-btn,.clear-cache-btn{background:#fff3;border:none;border-radius:12px;width:64px!important;height:64px!important;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s;margin-right:4px;box-shadow:0 2px 16px #5000501a;overflow:hidden;background-clip:padding-box}.main-menu-btn:hover{background:#ff9800;color:#fff}.main-menu-btn-img{width:40px;height:40px;object-fit:contain}.board-size-select{padding:12px 16px;border:2px solid var(--border-color);border-radius:12px;background:var(--control-bg);color:var(--text-primary);cursor:pointer;font-weight:700;transition:all .3s ease;box-shadow:0 4px 12px var(--shadow-color);min-width:120px;font-size:1.1em;outline:none;appearance:none;-webkit-appearance:none;-moz-appearance:none}.board-size-select:focus{outline:none;border-color:var(--control-hover);box-shadow:0 4px 12px var(--shadow-color),0 0 0 3px #3498db33}.board-bg-wrapper{width:480px;height:480px;max-width:95vw;max-height:95vw;min-width:240px;min-height:240px;margin:0 auto;display:flex;align-items:center;justify-content:center;overflow:hidden;background:none}@media (max-width: 600px){.board-bg-wrapper{width:95vw;height:95vw;max-width:95vw;max-height:95vw}}.game-board{--cell-size: calc(100% / var(--board-size, 3));display:grid;grid-template-columns:repeat(var(--board-size, 3),1fr);grid-template-rows:repeat(var(--board-size, 3),1fr);width:100%;height:100%;min-width:0;min-height:0;background:none;border-radius:24px;box-shadow:0 8px 32px #50005038,0 1.5px 8px #0002;overflow:hidden;margin:0 auto;transition:background .2s,width .2s,height .2s;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.board-row{display:contents}.board-cell{aspect-ratio:1/1;width:100%;height:100%;border-radius:18px;position:relative;transition:background .2s}.board-cell>*{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.game-board-piece{font-size:1em}.crown{display:block;text-align:center;filter:drop-shadow(0 0 8px #fff8) drop-shadow(0 0 4px #ffb300cc)}@keyframes crown-pop{0%{transform:scale(.5) rotate(-20deg);opacity:0}60%{transform:scale(1.2) rotate(8deg);opacity:1}to{transform:scale(1) rotate(0);opacity:1}}.move-dot{display:block;width:18%;height:18%;border-radius:50%;background:#fff;margin:0 auto}.move-dot-highlighted{display:none!important}@keyframes dot-pop{0%{transform:scale(.5);opacity:0}80%{transform:scale(1.2);opacity:1}to{transform:scale(1);opacity:1}}@keyframes dot-pop-highlighted{0%{transform:scale(.5);opacity:0}80%{transform:scale(1.3);opacity:1}to{transform:scale(1);opacity:1}}.game-board-piece.crown{filter:drop-shadow(0 2px 6px #fff8)}.game-board-piece.black{filter:drop-shadow(0 2px 6px #0008)}.board-cell.blocked-cell{background-color:var(--cell-blocked);cursor:not-allowed;opacity:.8;border:none;box-shadow:none;z-index:5}.board-cell.blocked-cell .blocked-x{display:none}.board-cell.available{box-shadow:none}.clear-cache-btn svg{width:64px!important;height:64px!important;display:block}.board-size-dropdown-wrapper{position:relative;display:inline-block}.board-size-dropdown-btn{background:#fff3;border:none;border-radius:12px;width:64px!important;height:64px!important;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s;margin-right:4px;box-shadow:0 2px 16px #5000501a;overflow:hidden;background-clip:padding-box;position:relative}.board-size-dropdown-btn-text{display:flex;align-items:center;justify-content:center;width:100%;height:100%;position:absolute;left:0;top:0;text-align:center;font-size:1.4em;font-weight:700;color:var(--text-primary);pointer-events:none}.board-size-dropdown-btn span,.board-size-dropdown-btn{width:100%;display:flex;align-items:center;justify-content:center;text-align:center}.board-size-dropdown-btn:focus,.board-size-dropdown-btn:hover{background:#ff9800;color:#fff}.board-size-dropdown-btn svg{position:absolute;right:10px;top:50%;transform:translateY(-50%);margin-left:0;vertical-align:middle;width:24px;height:24px;display:block}.board-size-dropdown-list{position:absolute;top:110%;left:0;right:0;background:transparent;border:none;border-radius:18px;box-shadow:none;z-index:1000;margin-top:4px;overflow:visible;min-width:120px;backdrop-filter:none;-webkit-backdrop-filter:none;padding:12px 8px;list-style:none;display:flex;flex-direction:column;gap:10px;align-items:stretch}.board-size-dropdown-option{padding:14px 0;cursor:pointer;transition:background .18s,color .18s,box-shadow .18s,transform .15s;background:#50287838;color:var(--text-primary);font-weight:700;font-size:1.18em;text-align:center;user-select:none;border-radius:14px;box-shadow:0 2px 12px #50287814;border:none;outline:none;margin:0}.board-size-dropdown-option:hover,.board-size-dropdown-option.selected{background:#ff9800d9;color:#fff;box-shadow:0 4px 18px #ff98002e;border-radius:18px;transform:scale(1.04)}.dropdown-backdrop{position:fixed;inset:0;z-index:999;background:#1e0a2840;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.clear-cache-btn{width:44px;height:44px;border-radius:12px;background:var(--control-bg, #fff3);border:2px solid var(--border-color, #ccc);display:flex;align-items:center;justify-content:center;margin-left:4px;cursor:pointer;transition:background .2s,border-color .2s;box-shadow:0 2px 8px #0001;overflow:hidden}.clear-cache-btn:hover{background:var(--control-hover, #ff9800);color:#fff;border-color:var(--control-hover, #ff9800)}.game-controls-panel{background:#5000502e;border-radius:24px;padding:24px 18px;margin-top:18px;display:flex;flex-direction:column;align-items:center;gap:18px;min-width:240px;width:480px;max-width:95vw;box-sizing:border-box;backdrop-filter:blur(12px);box-shadow:0 8px 32px #5000502e;border:1.5px solid rgba(255,255,255,.18);margin-left:auto;margin-right:auto;transition:width .2s}@media (max-width: 600px){.game-controls-panel{width:95vw;max-width:95vw;min-width:0}}.game-controls-panel.svelte-gg7prz{background:#5000502e;border-radius:24px;padding:24px 18px;margin-top:18px;display:flex;flex-direction:column;align-items:center;gap:18px;min-width:320px;backdrop-filter:blur(12px);box-shadow:0 8px 32px #5000502e;border:1.5px solid rgba(255,255,255,.18)}.toggles.svelte-gg7prz{display:flex;flex-direction:column;gap:12px;width:100%;margin-bottom:8px}.switch.svelte-gg7prz{display:none!important}.ios-switch-label.svelte-gg7prz{display:flex;align-items:center;gap:12px;cursor:pointer;font-size:1.08em;margin-bottom:2px}.ios-switch.svelte-gg7prz{position:relative;width:36px;height:20px;display:inline-block}.ios-switch.svelte-gg7prz input[type=checkbox]:where(.svelte-gg7prz){opacity:0;width:0;height:0}.ios-switch.svelte-gg7prz .slider:where(.svelte-gg7prz){position:absolute;cursor:pointer;inset:0;background:#ccc;border-radius:12px;transition:background .2s}.ios-switch.svelte-gg7prz input[type=checkbox]:where(.svelte-gg7prz):checked+.slider:where(.svelte-gg7prz){background:#ff9800}.ios-switch.svelte-gg7prz .slider:where(.svelte-gg7prz):before{content:"";position:absolute;left:2px;top:2px;width:16px;height:16px;background:#fff;border-radius:50%;transition:transform .2s}.ios-switch.svelte-gg7prz input[type=checkbox]:where(.svelte-gg7prz):checked+.slider:where(.svelte-gg7prz):before{transform:translate(16px)}.directions-3x3.svelte-gg7prz{display:grid;grid-template-columns:repeat(3,54px);grid-template-rows:repeat(3,54px);gap:14px;margin:18px 0 10px;justify-content:center}.dir-btn.svelte-gg7prz,.central-btn.svelte-gg7prz,.dist-btn.svelte-gg7prz{font-family:"M PLUS Rounded 1c",sans-serif!important;border-radius:12px}.dir-btn.svelte-gg7prz{width:54px;height:54px;font-size:1.7em;border:none;border-radius:16px;background:#ffffff21;color:#fff;cursor:pointer;transition:background .25s,box-shadow .25s,color .2s,transform .15s;box-shadow:0 2px 16px #5000501a;backdrop-filter:blur(6px);outline:none;position:relative;z-index:1}.dir-btn.svelte-gg7prz:focus,.dir-btn.svelte-gg7prz:hover{background:#ff980040;color:#ff9800;transform:scale(1.1);box-shadow:0 4px 24px #ff980088}.dir-btn[disabled].svelte-gg7prz{background:transparent;color:#bbb;cursor:default;box-shadow:none}.dir-btn.active.svelte-gg7prz{background:#ff980073;color:#fff;font-weight:700;box-shadow:0 0 0 3px #ff9800cc,0 4px 24px #ff980088;transform:scale(1.12)}.central-btn.svelte-gg7prz{font-size:1.3em;background:#43a04721;color:#222;border:2.5px solid #43a047;border-radius:12px;transition:background .2s,box-shadow .2s,color .2s;box-shadow:0 0 #43a047;z-index:2;backdrop-filter:blur(8px);width:54px;height:54px;display:flex;align-items:center;justify-content:center}.central-btn.active-confirm.svelte-gg7prz{background:#43a047cc;color:#fff;animation:svelte-gg7prz-pulse-green 1s infinite alternate;border:2.5px solid #43a047;box-shadow:0 0 16px 4px #43a04799,0 4px 24px #43a04744;cursor:pointer}.central-btn.show-move.svelte-gg7prz{background:#ff9800cc;color:#fff;border:2.5px solid #ff9800;animation:none;box-shadow:0 0 16px 4px #ff980099,0 4px 24px #ff980044}@keyframes svelte-gg7prz-pulse-green{0%{box-shadow:0 0 #43a04799,0 4px 24px #43a04744}to{box-shadow:0 0 24px 8px #43a04799,0 4px 24px #43a04744}}.distance-select.svelte-gg7prz{width:100%;text-align:center;margin:18px 0 0}.distance-btns.svelte-gg7prz{display:flex;gap:18px;justify-content:center;margin-top:10px}.dist-btn.svelte-gg7prz{background:#ffffff21;color:#fff;border:none;border-radius:12px;width:44px;height:44px;font-size:1.2em;cursor:pointer;transition:background .22s,color .18s,box-shadow .22s,transform .15s;box-shadow:0 2px 12px #5000501a;backdrop-filter:blur(6px);outline:none;display:flex;align-items:center;justify-content:center}.dist-btn.svelte-gg7prz:focus,.dist-btn.svelte-gg7prz:hover{background:#ff980040;color:#ff9800;transform:scale(1.1);box-shadow:0 4px 16px #ff980088}.dist-btn.active.svelte-gg7prz{background:#ff980073;color:#fff;font-weight:700;box-shadow:0 0 0 3px #ff9800cc,0 4px 16px #ff980088;transform:scale(1.12)}.action-btns.svelte-gg7prz{display:flex;flex-direction:row;gap:22px;width:100%;margin-top:18px;justify-content:center;align-items:stretch;background:#ffffff1a;border-radius:16px;box-shadow:0 4px 24px #5000501a;backdrop-filter:blur(8px);padding:14px 0 10px}@media (max-width: 600px){.action-btns.svelte-gg7prz{flex-direction:column;gap:14px;padding:10px 0 6px}}.confirm-btn.svelte-gg7prz,.no-moves-btn.svelte-gg7prz{flex:1 1 0;display:flex;align-items:center;justify-content:center;font-size:1.18em;font-weight:700;border:none;border-radius:12px;min-height:54px;min-width:0;padding:0 .5em;box-shadow:0 2px 16px #5000501a;transition:background .22s,color .18s,box-shadow .22s,transform .15s;cursor:pointer;letter-spacing:.01em}.confirm-btn.svelte-gg7prz{background:linear-gradient(90deg,#43a047 60%,#66bb6a);color:#fff;box-shadow:0 4px 24px #43a04733}.confirm-btn.svelte-gg7prz:focus,.confirm-btn.svelte-gg7prz:hover{background:linear-gradient(90deg,#66bb6a 60%,#43a047);color:#fff;outline:none;transform:scale(1.045);box-shadow:0 6px 32px #43a04755}.confirm-btn.svelte-gg7prz:disabled{background:#ccc;color:#666;cursor:not-allowed;transform:none;box-shadow:none}.no-moves-btn.svelte-gg7prz{background:linear-gradient(90deg,#ffb300 60%,#ffe082);color:#222;box-shadow:0 4px 24px #ffb30033}.no-moves-btn.svelte-gg7prz:focus,.no-moves-btn.svelte-gg7prz:hover{background:linear-gradient(90deg,#ffe082 60%,#ffb300);color:#222;outline:none;transform:scale(1.045);box-shadow:0 6px 32px #ffb30055}.checkbox-label.svelte-gg7prz{display:flex;align-items:center;justify-content:space-between;width:100%}.ios-switch-label.svelte-gg7prz{display:flex;align-items:center;gap:12px;cursor:pointer}.settings-icon-btn.svelte-gg7prz{margin-left:auto;background:none;border:none;font-size:1.5em;cursor:pointer;padding:0 8px}.settings-icon-btn.svelte-gg7prz:disabled{opacity:.5;cursor:not-allowed}.modal-overlay.svelte-17pm6zg{position:fixed;inset:0;background:#1e102873;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:1000;display:flex;align-items:center;justify-content:center;transition:background .2s}.modal-victory-icon.svelte-17pm6zg{font-size:2.5em;margin-right:12px;vertical-align:middle;filter:drop-shadow(0 2px 8px #ffeb3b88)}.modal-window.svelte-17pm6zg{border-radius:18px;min-width:280px;max-width:90vw;padding:0;box-shadow:none;text-align:center;background:none}.modal-content.svelte-17pm6zg{background:#280a23a6;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.18);box-shadow:0 8px 32px #0000005e,0 2px 16px #5000501a;border-radius:18px;padding:32px 28px 18px;max-width:420px;width:100%;margin:0 auto;max-height:90vh;overflow:hidden;position:relative;color:var(--text-primary, #fff);transform:scale(.95);opacity:0;animation:svelte-17pm6zg-modalFadeIn .3s ease-out forwards;display:flex;flex-direction:column;align-items:center}@keyframes svelte-17pm6zg-modalFadeIn{to{transform:scale(1);opacity:1}}.modal-header.svelte-17pm6zg{background:transparent;padding:24px 24px 16px;border-bottom:1px solid rgba(255,255,255,.1);box-shadow:none;display:flex;align-items:center;justify-content:center;gap:8px}.modal-title.svelte-17pm6zg{margin:0;font-size:2em;font-weight:800;color:#fffde7;text-align:center;flex:1;letter-spacing:.01em;line-height:1.2}.modal-close.svelte-17pm6zg{color:#ffffffb3;background:none;border:none;font-size:2em;cursor:pointer;transition:color .2s ease;padding:0 12px}.modal-close.svelte-17pm6zg:hover{background:#ffffff1a;color:#fff}.final-score-container.svelte-17pm6zg{background-color:#0003;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:16px 24px;margin:0 auto;display:inline-flex;flex-direction:column;align-items:center;gap:8px}.score-label.svelte-17pm6zg{font-size:1em;color:var(--text-secondary, #ccc);font-weight:500}.score-value.svelte-17pm6zg{font-size:2.5em;font-weight:700;color:var(--text-accent, #ff9800);line-height:1}.modal-buttons.svelte-17pm6zg{justify-content:center;display:flex;background:transparent;border-top:1px solid rgba(255,255,255,.1);padding:20px 24px 24px;gap:12px;width:100%;margin-top:8px}.modal-btn-generic.svelte-17pm6zg{margin:0 8px;padding:8px 26px;font-size:1.08em;border-radius:8px;border:1.5px solid #eee;background:#fff;color:#222;cursor:pointer;transition:background .2s,color .2s,box-shadow .2s,transform .15s;font-weight:600;box-shadow:0 2px 8px #00000014;outline:none;min-width:120px;text-align:center}.modal-btn-generic.svelte-17pm6zg:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001f}.modal-btn-generic.primary.svelte-17pm6zg{background:#4caf50;color:#fff;border-color:#388e3c;box-shadow:0 2px 12px #4caf5040}.modal-btn-generic.primary.svelte-17pm6zg:hover{background:#43a047}.modal-btn-generic.blue-btn.svelte-17pm6zg{background:#2196f3;color:#fff;border-color:#1976d2;box-shadow:0 2px 12px #2196f340}.modal-btn-generic.blue-btn.svelte-17pm6zg:hover{background:#1976d2}.modal-btn-generic.green-btn.svelte-17pm6zg{background:#4caf50;color:#fff;border-color:#388e3c;box-shadow:0 2px 12px #4caf5040}.modal-btn-generic.green-btn.svelte-17pm6zg:hover{background:#43a047}.reason.svelte-17pm6zg{font-size:1.1em;color:var(--text-secondary, #ccc);margin-bottom:20px;margin-top:32px}.modal-content.svelte-17pm6zg p:where(.svelte-17pm6zg),.modal-content.svelte-17pm6zg .reason:where(.svelte-17pm6zg){margin:0 0 16px;text-align:center;font-size:1.08em}.score-breakdown.svelte-17pm6zg{text-align:left;margin:20px auto;padding:16px;background:#0000001a;border-radius:8px;max-width:300px;font-size:.9em;color:var(--text-secondary)}.score-breakdown.svelte-17pm6zg div:where(.svelte-17pm6zg){display:flex;justify-content:space-between;padding:4px 0}.score-breakdown.svelte-17pm6zg span:where(.svelte-17pm6zg){font-weight:700;color:var(--text-primary)}.score-breakdown.svelte-17pm6zg .penalty:where(.svelte-17pm6zg){color:#f44336}.score-breakdown.svelte-17pm6zg .penalty:where(.svelte-17pm6zg) span:where(.svelte-17pm6zg){color:#f44336;font-weight:700}.modal-info.svelte-17pm6zg{background:#1e102852;color:#fff;border-radius:10px;padding:12px 18px 10px;margin:0 0 18px;font-size:1.08em;text-align:center;box-shadow:none;border:none;max-width:95vw}.modal-overlay.svelte-ld5wmd{position:fixed;inset:0;background:#1e102873;backdrop-filter:blur(8px);z-index:1001;display:flex;align-items:center;justify-content:center}.modal-window.svelte-ld5wmd{background:#280a23d9;border:1px solid rgba(255,255,255,.18);box-shadow:0 8px 32px #0000005e;border-radius:18px;max-width:500px;width:90vw;color:#fff;animation:svelte-ld5wmd-modalFadeIn .3s ease-out forwards}@keyframes svelte-ld5wmd-modalFadeIn{to{transform:scale(1);opacity:1}}.modal-header.svelte-ld5wmd{padding:16px 24px;border-bottom:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center}.modal-title.svelte-ld5wmd{font-size:1.5em;font-weight:700;margin:0}.modal-close.svelte-ld5wmd{background:none;border:none;color:#fff;font-size:2em;cursor:pointer;opacity:.7;transition:opacity .2s}.modal-close.svelte-ld5wmd:hover{opacity:1}.modal-body.svelte-ld5wmd{padding:24px;max-height:60vh;overflow-y:auto}.modal-footer.svelte-ld5wmd{padding:16px 24px;border-top:1px solid rgba(255,255,255,.1);text-align:right}.modal-btn-generic.svelte-ld5wmd{padding:8px 26px;font-size:1.08em;border-radius:8px;border:1.5px solid #eee;background:#fff;color:#222;cursor:pointer;font-weight:600}.modal-btn-generic.primary.svelte-ld5wmd{background:#4caf50;color:#fff;border-color:#388e3c}.loader-container.svelte-ld5wmd{text-align:center;padding:2em}.loading-spinner.svelte-ld5wmd{width:40px;height:40px;border:4px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:svelte-ld5wmd-spin 1s linear infinite;margin:0 auto 1em}@keyframes svelte-ld5wmd-spin{to{transform:rotate(360deg)}}.voice-list.svelte-ld5wmd{display:flex;flex-direction:column;gap:12px}.voice-option.svelte-ld5wmd{display:flex;align-items:center;padding:12px;border-radius:8px;background:#ffffff0d;cursor:pointer;transition:background .2s}.voice-option.svelte-ld5wmd:hover{background:#ffffff1a}.voice-option.svelte-ld5wmd input[type=radio]:where(.svelte-ld5wmd){margin-right:12px;accent-color:#ff9800}.voice-name.svelte-ld5wmd{font-size:1em}.no-voices-message.svelte-ld5wmd{text-align:center;padding:1em;color:#ccc}.clear-cache-btn.svelte-1fu0r1w{background:#fff3;border:none;width:44px;height:44px;display:flex;align-items:center;justify-content:center;margin-left:4px;cursor:pointer;transition:background .2s}.clear-cache-btn.svelte-1fu0r1w:hover{background:#ff9800;color:#fff}.score-panel.svelte-1fu0r1w{background:var(--bg-secondary, #fff3);padding:12px 20px;border-radius:12px;box-shadow:var(--unified-shadow, 0 2px 12px 0 rgba(80,0,80,.1));margin-bottom:16px;text-align:center;font-size:1.2em;font-weight:700;color:var(--text-primary, #222);width:100%;max-width:340px;margin-left:auto;margin-right:auto}.penalty-display.svelte-1fu0r1w{color:#f44336;font-weight:700;margin-left:8px}
