import{aS as m,aT as L,c as q,ae as x,V as Y,q as z,Y as Q,ag as $,aU as M,a2 as j,a0 as D,H as G,a1 as J,aR as N,C as T,B as V,x as U,J as y,ap as X,aQ as F,aV as K,ay as Z,ar as ee,aW as te,_ as re,G as ne,w as O,a3 as ae,M as se,ac as ie,a6 as oe,W as g,u as ue,aX as ce,Q as fe}from"./CyKPAB5b.js";import{r as le}from"./BDvsOp51.js";const de=["touchstart","touchmove"];function _e(e){return de.includes(e)}let k=!1;function he(){k||(k=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function H(e){var t=x,r=q;m(null),L(null);try{return e()}finally{m(t),L(r)}}function we(e,t,r,a=r){e.addEventListener(t,()=>H(r));const s=e.__on_r;s?e.__on_r=()=>{s(),a(!0)}:e.__on_r=()=>a(!0),he()}const P=new Set,R=new Set;function W(e,t,r,a={}){function s(n){if(a.capture||w.call(t,n),!n.cancelBubble)return H(()=>r?.call(this,n))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?z(()=>{t.addEventListener(e,s,a)}):t.addEventListener(e,s,a),s}function Ee(e,t,r,a={}){var s=W(t,e,r,a);return()=>{e.removeEventListener(t,s,a)}}function Te(e,t,r,a,s){var n={capture:a,passive:s},f=W(e,t,r,n);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Y(()=>{t.removeEventListener(e,f,n)})}function me(e){for(var t=0;t<e.length;t++)P.add(e[t]);for(var r of R)r(e)}function w(e){var t=this,r=t.ownerDocument,a=e.type,s=e.composedPath?.()||[],n=s[0]||e.target,f=0,u=e.__root;if(u){var l=s.indexOf(u);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var i=s.indexOf(t);if(i===-1)return;l<=i&&(f=l)}if(n=s[f]||e.target,n!==t){Q(e,"currentTarget",{configurable:!0,get(){return n||r}});var v=x,d=q;m(null),L(null);try{for(var o,c=[];n!==null;){var _=n.assignedSlot||n.parentNode||n.host||null;try{var h=n["__"+a];if(h!=null&&(!n.disabled||e.target===n))if($(h)){var[S,...I]=h;S.apply(n,[e,...I])}else h.call(n,e)}catch(E){o?c.push(E):o=E}if(e.cancelBubble||_===t||_===null)break;n=_}if(o){for(let E of c)queueMicrotask(()=>{throw E});throw o}}finally{e.__root=t,delete e.currentTarget,m(v),L(d)}}}function Le(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function ve(e,t){return B(e,t)}function Se(e,t){M(),t.intro=t.intro??!1;const r=t.target,a=O,s=y;try{for(var n=j(r);n&&(n.nodeType!==D||n.data!==G);)n=J(n);if(!n)throw N;T(!0),V(n),U();const f=B(e,{...t,anchor:n});if(y===null||y.nodeType!==D||y.data!==X)throw F(),N;return T(!1),f}catch(f){if(f===N)return t.recover===!1&&K(),M(),Z(r),T(!1),ve(e,t);throw f}finally{T(a),V(s),le()}}const b=new Map;function B(e,{target:t,anchor:r,props:a={},events:s,context:n,intro:f=!0}){M();var u=new Set,l=d=>{for(var o=0;o<d.length;o++){var c=d[o];if(!u.has(c)){u.add(c);var _=_e(c);t.addEventListener(c,w,{passive:_});var h=b.get(c);h===void 0?(document.addEventListener(c,w,{passive:_}),b.set(c,1)):b.set(c,h+1)}}};l(ee(P)),R.add(l);var i=void 0,v=te(()=>{var d=r??t.appendChild(re());return ne(()=>{if(n){ae({});var o=se;o.c=n}s&&(a.$$events=s),O&&ie(d,null),i=e(d,a)||{},O&&(q.nodes_end=y),n&&oe()}),()=>{for(var o of u){t.removeEventListener(o,w);var c=b.get(o);--c===0?(document.removeEventListener(o,w),b.delete(o)):b.set(o,c)}R.delete(l),d!==r&&d.parentNode?.removeChild(d)}});return A.set(i,v),i}let A=new WeakMap;function Ne(e,t){const r=A.get(e);return r?(A.delete(e),r(t)):Promise.resolve()}function C(e,t,r){if(e==null)return t(void 0),r&&r(void 0),g;const a=ue(()=>e.subscribe(t,r));return a.unsubscribe?()=>a.unsubscribe():a}const p=[];function be(e,t){return{subscribe:pe(e,t).subscribe}}function pe(e,t=g){let r=null;const a=new Set;function s(u){if(ce(e,u)&&(e=u,r)){const l=!p.length;for(const i of a)i[1](),p.push(i,e);if(l){for(let i=0;i<p.length;i+=2)p[i][0](p[i+1]);p.length=0}}}function n(u){s(u(e))}function f(u,l=g){const i=[u,l];return a.add(i),a.size===1&&(r=t(s,n)||g),u(e),()=>{a.delete(i),a.size===0&&r&&(r(),r=null)}}return{set:s,update:n,subscribe:f}}function Me(e,t,r){const a=!Array.isArray(e),s=a?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const n=t.length<2;return be(r,(f,u)=>{let l=!1;const i=[];let v=0,d=g;const o=()=>{if(v)return;d();const _=t(a?i[0]:i,f,u);n?f(_):d=typeof _=="function"?_:g},c=s.map((_,h)=>C(_,S=>{i[h]=S,v&=~(1<<h),l&&o()},()=>{v|=1<<h}));return l=!0,o(),function(){fe(c),d(),l=!1}})}function Oe(e){let t;return C(e,r=>t=r)(),t}export{Le as a,he as b,Me as c,me as d,Te as e,Oe as g,Se as h,we as l,ve as m,Ee as o,C as s,Ne as u,pe as w};
