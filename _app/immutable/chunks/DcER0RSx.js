import{aP as m,aQ as L,l as k,ay as H,an as B,q as Y,ap as z,a0 as Q,aR as O,G as $,O as q,a9 as j,a7 as F,aS as S,M as T,C as D,H as G,N as y,Q as U,aT as J,aU as K,a3 as X,W as Z,aV as ee,A as te,T as re,F as A,as as ae,ah as ne,aw as se,at as ie,ao as g,u as oe,aW as ue,ak as ce}from"./CYlQx1xG.js";import{a as fe}from"./CIFqOFj7.js";import{r as le}from"./c-mzsrjd.js";const de=["touchstart","touchmove"];function _e(e){return de.includes(e)}function V(e){var t=H,r=k;m(null),L(null);try{return e()}finally{m(t),L(r)}}function we(e,t,r,n=r){e.addEventListener(t,()=>V(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),fe()}const W=new Set,M=new Set;function x(e,t,r,n={}){function s(a){if(n.capture||w.call(t,a),!a.cancelBubble)return V(()=>r?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Y(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function Ee(e,t,r,n={}){var s=x(t,e,r,n);return()=>{e.removeEventListener(t,s,n)}}function Te(e,t,r,n,s){var a={capture:n,passive:s},f=x(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&B(()=>{t.removeEventListener(e,f,a)})}function me(e){for(var t=0;t<e.length;t++)W.add(e[t]);for(var r of M)r(e)}function w(e){var t=this,r=t.ownerDocument,n=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,f=0,u=e.__root;if(u){var l=s.indexOf(u);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var i=s.indexOf(t);if(i===-1)return;l<=i&&(f=l)}if(a=s[f]||e.target,a!==t){z(e,"currentTarget",{configurable:!0,get(){return a||r}});var b=H,d=k;m(null),L(null);try{for(var o,c=[];a!==null;){var _=a.assignedSlot||a.parentNode||a.host||null;try{var h=a["__"+n];if(h!=null&&(!a.disabled||e.target===a))if(Q(h)){var[N,...P]=h;N.apply(a,[e,...P])}else h.call(a,e)}catch(E){o?c.push(E):o=E}if(e.cancelBubble||_===t||_===null)break;a=_}if(o){for(let E of c)queueMicrotask(()=>{throw E});throw o}}finally{e.__root=t,delete e.currentTarget,m(b),L(d)}}}function Le(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function he(e,t){return C(e,t)}function Ne(e,t){O(),t.intro=t.intro??!1;const r=t.target,n=A,s=y;try{for(var a=$(r);a&&(a.nodeType!==q||a.data!==j);)a=F(a);if(!a)throw S;T(!0),D(a),G();const f=C(e,{...t,anchor:a});if(y===null||y.nodeType!==q||y.data!==U)throw J(),S;return T(!1),f}catch(f){if(f===S)return t.recover===!1&&K(),O(),X(r),T(!1),he(e,t);throw f}finally{T(n),D(s),le()}}const v=new Map;function C(e,{target:t,anchor:r,props:n={},events:s,context:a,intro:f=!0}){O();var u=new Set,l=d=>{for(var o=0;o<d.length;o++){var c=d[o];if(!u.has(c)){u.add(c);var _=_e(c);t.addEventListener(c,w,{passive:_});var h=v.get(c);h===void 0?(document.addEventListener(c,w,{passive:_}),v.set(c,1)):v.set(c,h+1)}}};l(Z(W)),M.add(l);var i=void 0,b=ee(()=>{var d=r??t.appendChild(te());return re(()=>{if(a){ae({});var o=ne;o.c=a}s&&(n.$$events=s),A&&se(d,null),i=e(d,n)||{},A&&(k.nodes_end=y),a&&ie()}),()=>{for(var o of u){t.removeEventListener(o,w);var c=v.get(o);--c===0?(document.removeEventListener(o,w),v.delete(o)):v.set(o,c)}M.delete(l),d!==r&&d.parentNode?.removeChild(d)}});return R.set(i,b),i}let R=new WeakMap;function Se(e,t){const r=R.get(e);return r?(R.delete(e),r(t)):Promise.resolve()}function I(e,t,r){if(e==null)return t(void 0),r&&r(void 0),g;const n=oe(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const p=[];function be(e,t){return{subscribe:ve(e,t).subscribe}}function ve(e,t=g){let r=null;const n=new Set;function s(u){if(ue(e,u)&&(e=u,r)){const l=!p.length;for(const i of n)i[1](),p.push(i,e);if(l){for(let i=0;i<p.length;i+=2)p[i][0](p[i+1]);p.length=0}}}function a(u){s(u(e))}function f(u,l=g){const i=[u,l];return n.add(i),n.size===1&&(r=t(s,a)||g),u(e),()=>{n.delete(i),n.size===0&&r&&(r(),r=null)}}return{set:s,update:a,subscribe:f}}function Oe(e,t,r){const n=!Array.isArray(e),s=n?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return be(r,(f,u)=>{let l=!1;const i=[];let b=0,d=g;const o=()=>{if(b)return;d();const _=t(n?i[0]:i,f,u);a?f(_):d=typeof _=="function"?_:g},c=s.map((_,h)=>I(_,N=>{i[h]=N,b&=~(1<<h),l&&o()},()=>{b|=1<<h}));return l=!0,o(),function(){ce(c),d(),l=!1}})}function Ae(e){let t;return I(e,r=>t=r)(),t}export{Le as a,Oe as b,me as d,Te as e,Ae as g,Ne as h,we as l,he as m,Ee as o,I as s,Se as u,ve as w};
