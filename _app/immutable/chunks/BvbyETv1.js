import{w as l}from"./DcER0RSx.js";const s=typeof window<"u",o={showMoves:!0,showBoard:!0,language:"uk",theme:"dark",style:"ubuntu",speechEnabled:!1,selectedVoiceURI:null};s&&(localStorage.setItem("theme","dark"),localStorage.setItem("style","ubuntu"));const S=s?{showMoves:localStorage.getItem("showMoves")!=="false",showBoard:localStorage.getItem("showBoard")!=="false",language:localStorage.getItem("lang")||o.language,theme:localStorage.getItem("theme")||o.theme,style:localStorage.getItem("style")||o.style,speechEnabled:localStorage.getItem("speechEnabled")==="true",selectedVoiceURI:localStorage.getItem("selectedVoiceURI")||null}:o,{subscribe:c,set:I,update:r}=l(S);s&&c(t=>{document.documentElement.setAttribute("data-theme",t.theme),document.documentElement.setAttribute("data-style",t.style)});function h(t){r(a=>{const e={...a,...t};return s&&(localStorage.setItem("showMoves",e.showMoves?"true":"false"),localStorage.setItem("showBoard",e.showBoard?"true":"false"),localStorage.setItem("lang",e.language),localStorage.setItem("theme",e.theme),localStorage.setItem("style",e.style),localStorage.setItem("speechEnabled",String(e.speechEnabled)),e.selectedVoiceURI?localStorage.setItem("selectedVoiceURI",e.selectedVoiceURI):localStorage.removeItem("selectedVoiceURI")),e})}function f(){I({...o})}const p={subscribe:c,updateSettings:h,resetSettings:f,update:r};function w(){const{subscribe:t,update:a,set:e}=l([]);function n(u,m="info"){const d={timestamp:new Date().toISOString(),type:m,message:u};a(i=>[d,...i])}function g(){e([])}return{subscribe:t,addLog:n,clearLogs:g}}const y=w();export{y as l,p as s};
